ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"apm32f10x_can.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CAN_Reset,"ax",%progbits
  18              		.align	1
  19              		.global	CAN_Reset
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	CAN_Reset:
  25              	.LVL0:
  26              	.LFB65:
  27              		.file 1 "Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c"
   1:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
   2:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @file        apm32f10x_can.c
   3:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
   4:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief       This file provides all the CAN firmware functions
   5:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
   6:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @version     V1.0.2
   7:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
   8:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @date        2022-01-05
   9:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  10:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @attention
  11:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  12:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  Copyright (C) 2020-2022 Geehy Semiconductor
  13:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  14:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  You may not use this file except in compliance with the
  15:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  GEEHY COPYRIGHT NOTICE (GEEHY SOFTWARE PACKAGE LICENSE).
  16:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  17:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  The program is only for reference, which is distributed in the hope
  18:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  that it will be usefull and instructional for customers to develop
  19:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  their software. Unless required by applicable law or agreed to in
  20:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  writing, the program is distributed on an "AS IS" BASIS, WITHOUT
  21:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  ANY WARRANTY OR CONDITIONS OF ANY KIND, either express or implied.
  22:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  See the GEEHY SOFTWARE PACKAGE LICENSE for the governing permissions
  23:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *  and limitations under the License.
  24:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
  25:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  26:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** #include "apm32f10x_can.h"
  27:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** #include "apm32f10x_rcm.h"
  28:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  29:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /** @addtogroup Peripherals_Library Standard Peripheral Library
  30:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****   @{
  31:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** */
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 2


  32:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  33:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /** @addtogroup CAN_Driver CAN Driver
  34:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****   @{
  35:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** */
  36:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  37:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /** @addtogroup CAN_Fuctions Fuctions
  38:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****   @{
  39:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** */
  40:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  41:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
  42:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Reset CAN registers
  43:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  44:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
  45:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  46:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
  47:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  48:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
  49:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
  50:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_Reset(CAN_T* can)
  51:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
  28              		.loc 1 51 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 51 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  52:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if (can == CAN1)
  38              		.loc 1 52 5 is_stmt 1 view .LVU2
  39              		.loc 1 52 8 is_stmt 0 view .LVU3
  40 0002 0C4B     		ldr	r3, .L7
  41 0004 9842     		cmp	r0, r3
  42 0006 03D0     		beq	.L5
  53:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
  54:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_EnableAPB1PeriphReset(RCM_APB1_PERIPH_CAN1);
  55:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN1);
  56:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
  57:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if (can == CAN2)
  43              		.loc 1 57 10 is_stmt 1 view .LVU4
  44              		.loc 1 57 13 is_stmt 0 view .LVU5
  45 0008 0B4B     		ldr	r3, .L7+4
  46 000a 9842     		cmp	r0, r3
  47 000c 09D0     		beq	.L6
  48              	.LVL1:
  49              	.L1:
  58:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
  59:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_EnableAPB1PeriphReset(RCM_APB1_PERIPH_CAN2);
  60:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN2);
  61:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
  62:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
  50              		.loc 1 62 1 view .LVU6
  51 000e 08BD     		pop	{r3, pc}
  52              	.LVL2:
  53              	.L5:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 3


  54:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN1);
  54              		.loc 1 54 9 is_stmt 1 view .LVU7
  55 0010 4FF00070 		mov	r0, #33554432
  56              	.LVL3:
  54:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN1);
  57              		.loc 1 54 9 is_stmt 0 view .LVU8
  58 0014 FFF7FEFF 		bl	RCM_EnableAPB1PeriphReset
  59              	.LVL4:
  55:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
  60              		.loc 1 55 9 is_stmt 1 view .LVU9
  61 0018 4FF00070 		mov	r0, #33554432
  62 001c FFF7FEFF 		bl	RCM_DisableAPB1PeriphReset
  63              	.LVL5:
  64 0020 F5E7     		b	.L1
  65              	.LVL6:
  66              	.L6:
  59:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN2);
  67              		.loc 1 59 9 view .LVU10
  68 0022 4FF08060 		mov	r0, #67108864
  69              	.LVL7:
  59:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RCM_DisableAPB1PeriphReset(RCM_APB1_PERIPH_CAN2);
  70              		.loc 1 59 9 is_stmt 0 view .LVU11
  71 0026 FFF7FEFF 		bl	RCM_EnableAPB1PeriphReset
  72              	.LVL8:
  60:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
  73              		.loc 1 60 9 is_stmt 1 view .LVU12
  74 002a 4FF08060 		mov	r0, #67108864
  75 002e FFF7FEFF 		bl	RCM_DisableAPB1PeriphReset
  76              	.LVL9:
  77              		.loc 1 62 1 is_stmt 0 view .LVU13
  78 0032 ECE7     		b	.L1
  79              	.L8:
  80              		.align	2
  81              	.L7:
  82 0034 00640040 		.word	1073767424
  83 0038 00680040 		.word	1073768448
  84              		.cfi_endproc
  85              	.LFE65:
  87              		.section	.text.CAN_Config,"ax",%progbits
  88              		.align	1
  89              		.global	CAN_Config
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  94              	CAN_Config:
  95              	.LVL10:
  96              	.LFB66:
  63:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  64:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
  65:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Initialization parameter configuration
  66:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  67:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral which can be CAN1 or CAN2.
  68:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  69:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     canConfig: Point to a CAN_Config_T structure.
  70:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
  71:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    ERROR or SUCCEESS
  72:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 4


  73:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
  74:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
  75:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_Config(CAN_T* can, CAN_Config_T* canConfig)
  76:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
  97              		.loc 1 76 1 is_stmt 1 view -0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101              		@ link register save eliminated.
  77:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t  initStatus = ERROR;
 102              		.loc 1 77 5 view .LVU15
  78:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t wait_ack = 0x00000000;
 103              		.loc 1 78 5 view .LVU16
  79:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  80:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Exit from sleep mode */
  81:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.SLEEPREQ = BIT_RESET;
 104              		.loc 1 81 5 view .LVU17
 105              		.loc 1 81 27 is_stmt 0 view .LVU18
 106 0000 0368     		ldr	r3, [r0]
 107 0002 6FF34103 		bfc	r3, #1, #1
 108 0006 0360     		str	r3, [r0]
  82:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Request initialisation */
  83:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.INITREQ = BIT_SET;
 109              		.loc 1 83 5 is_stmt 1 view .LVU19
 110              		.loc 1 83 26 is_stmt 0 view .LVU20
 111 0008 0368     		ldr	r3, [r0]
 112 000a 43F00103 		orr	r3, r3, #1
 113 000e 0360     		str	r3, [r0]
  84:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
  85:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Wait the acknowledge */
  86:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     while(((can->MSTS_B.INITFLG) != BIT_SET) && (wait_ack != 0x0000FFFF))
 114              		.loc 1 86 5 is_stmt 1 view .LVU21
  78:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 115              		.loc 1 78 14 is_stmt 0 view .LVU22
 116 0010 0023     		movs	r3, #0
 117              	.LVL11:
 118              	.L10:
 119              		.loc 1 86 10 is_stmt 1 view .LVU23
 120              		.loc 1 86 24 is_stmt 0 view .LVU24
 121 0012 4268     		ldr	r2, [r0, #4]
 122              		.loc 1 86 10 view .LVU25
 123 0014 12F0010F 		tst	r2, #1
 124 0018 05D1     		bne	.L11
 125              		.loc 1 86 46 discriminator 1 view .LVU26
 126 001a 4FF6FF72 		movw	r2, #65535
 127 001e 9342     		cmp	r3, r2
 128 0020 01D0     		beq	.L11
  87:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
  88:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         wait_ack++;
 129              		.loc 1 88 9 is_stmt 1 view .LVU27
 130              		.loc 1 88 17 is_stmt 0 view .LVU28
 131 0022 0133     		adds	r3, r3, #1
 132              	.LVL12:
 133              		.loc 1 88 17 view .LVU29
 134 0024 F5E7     		b	.L10
 135              	.L11:
  89:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 5


  90:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Check acknowledge */
  91:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(((can->MSTS_B.INITFLG) != BIT_SET))
 136              		.loc 1 91 5 is_stmt 1 view .LVU30
 137              		.loc 1 91 21 is_stmt 0 view .LVU31
 138 0026 4368     		ldr	r3, [r0, #4]
 139              	.LVL13:
 140              		.loc 1 91 7 view .LVU32
 141 0028 13F0010F 		tst	r3, #1
 142 002c 6ED0     		beq	.L27
  92:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
  93:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         initStatus = ERROR;
  94:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
  95:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
  96:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
  97:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(canConfig->autoBusOffManage == ENABLE)
 143              		.loc 1 97 9 is_stmt 1 view .LVU33
 144              		.loc 1 97 21 is_stmt 0 view .LVU34
 145 002e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 146              		.loc 1 97 11 view .LVU35
 147 0030 012B     		cmp	r3, #1
 148 0032 43D0     		beq	.L29
  98:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
  99:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.ALBOFFM = BIT_SET;
 100:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 101:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 102:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 103:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.ALBOFFM = BIT_RESET;
 149              		.loc 1 103 13 is_stmt 1 view .LVU36
 150              		.loc 1 103 34 is_stmt 0 view .LVU37
 151 0034 0368     		ldr	r3, [r0]
 152 0036 6FF38613 		bfc	r3, #6, #1
 153 003a 0360     		str	r3, [r0]
 154              	.L15:
 104:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 105:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 106:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(canConfig->autoWakeUpMode == ENABLE)
 155              		.loc 1 106 9 is_stmt 1 view .LVU38
 156              		.loc 1 106 21 is_stmt 0 view .LVU39
 157 003c 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 158              		.loc 1 106 11 view .LVU40
 159 003e 012B     		cmp	r3, #1
 160 0040 41D0     		beq	.L30
 107:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 108:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.AWUPCFG = BIT_SET;
 109:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 110:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 111:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 112:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.AWUPCFG = BIT_RESET;
 161              		.loc 1 112 13 is_stmt 1 view .LVU41
 162              		.loc 1 112 34 is_stmt 0 view .LVU42
 163 0042 0368     		ldr	r3, [r0]
 164 0044 6FF34513 		bfc	r3, #5, #1
 165 0048 0360     		str	r3, [r0]
 166              	.L17:
 113:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 114:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 115:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(canConfig->nonAutoRetran == ENABLE)
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 6


 167              		.loc 1 115 9 is_stmt 1 view .LVU43
 168              		.loc 1 115 21 is_stmt 0 view .LVU44
 169 004a 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 170              		.loc 1 115 11 view .LVU45
 171 004c 012B     		cmp	r3, #1
 172 004e 3FD0     		beq	.L31
 116:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 117:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.ARTXMD = BIT_SET;
 118:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 119:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 120:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 121:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.ARTXMD = BIT_RESET;
 173              		.loc 1 121 13 is_stmt 1 view .LVU46
 174              		.loc 1 121 33 is_stmt 0 view .LVU47
 175 0050 0368     		ldr	r3, [r0]
 176 0052 6FF30413 		bfc	r3, #4, #1
 177 0056 0360     		str	r3, [r0]
 178              	.L19:
 122:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 123:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 124:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(canConfig->rxFIFOLockMode == ENABLE)
 179              		.loc 1 124 9 is_stmt 1 view .LVU48
 180              		.loc 1 124 21 is_stmt 0 view .LVU49
 181 0058 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 182              		.loc 1 124 11 view .LVU50
 183 005a 012B     		cmp	r3, #1
 184 005c 3DD0     		beq	.L32
 125:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 126:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.RXFLOCK = BIT_SET;
 127:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 128:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 129:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 130:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.RXFLOCK = BIT_RESET;
 185              		.loc 1 130 13 is_stmt 1 view .LVU51
 186              		.loc 1 130 34 is_stmt 0 view .LVU52
 187 005e 0368     		ldr	r3, [r0]
 188 0060 6FF3C303 		bfc	r3, #3, #1
 189 0064 0360     		str	r3, [r0]
 190              	.L21:
 131:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 132:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 133:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(canConfig->txFIFOPriority == ENABLE)
 191              		.loc 1 133 9 is_stmt 1 view .LVU53
 192              		.loc 1 133 21 is_stmt 0 view .LVU54
 193 0066 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 194              		.loc 1 133 11 view .LVU55
 195 0068 012B     		cmp	r3, #1
 196 006a 3BD0     		beq	.L33
 134:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 135:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.TXFPCFG = BIT_SET;
 136:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 137:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 138:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 139:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MCTRL_B.TXFPCFG = BIT_RESET;
 197              		.loc 1 139 13 is_stmt 1 view .LVU56
 198              		.loc 1 139 34 is_stmt 0 view .LVU57
 199 006c 0368     		ldr	r3, [r0]
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 7


 200 006e 6FF38203 		bfc	r3, #2, #1
 201 0072 0360     		str	r3, [r0]
 202              	.L23:
 140:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 141:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 142:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Set the bit timing register */
 143:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM &= (uint32_t)0x3fffffff;
 203              		.loc 1 143 9 is_stmt 1 view .LVU58
 204              		.loc 1 143 21 is_stmt 0 view .LVU59
 205 0074 C369     		ldr	r3, [r0, #28]
 206 0076 23F04043 		bic	r3, r3, #-1073741824
 207 007a C361     		str	r3, [r0, #28]
 144:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM |= (uint32_t)canConfig->mode << 30;
 208              		.loc 1 144 9 is_stmt 1 view .LVU60
 209              		.loc 1 144 21 is_stmt 0 view .LVU61
 210 007c C369     		ldr	r3, [r0, #28]
 211              		.loc 1 144 43 view .LVU62
 212 007e 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 213              		.loc 1 144 21 view .LVU63
 214 0080 43EA8273 		orr	r3, r3, r2, lsl #30
 215 0084 C361     		str	r3, [r0, #28]
 145:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM_B.RSYNJW  = canConfig->syncJumpWidth;
 216              		.loc 1 145 9 is_stmt 1 view .LVU64
 217              		.loc 1 145 42 is_stmt 0 view .LVU65
 218 0086 8A79     		ldrb	r2, [r1, #6]	@ zero_extendqisi2
 219              		.loc 1 145 31 view .LVU66
 220 0088 C369     		ldr	r3, [r0, #28]
 221 008a 62F31963 		bfi	r3, r2, #24, #2
 222 008e C361     		str	r3, [r0, #28]
 146:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM_B.TIMSEG1 = canConfig->timeSegment1;
 223              		.loc 1 146 9 is_stmt 1 view .LVU67
 224              		.loc 1 146 42 is_stmt 0 view .LVU68
 225 0090 CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 226              		.loc 1 146 31 view .LVU69
 227 0092 C369     		ldr	r3, [r0, #28]
 228 0094 62F31343 		bfi	r3, r2, #16, #4
 229 0098 C361     		str	r3, [r0, #28]
 147:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM_B.TIMSEG2 = canConfig->timeSegment2;
 230              		.loc 1 147 9 is_stmt 1 view .LVU70
 231              		.loc 1 147 42 is_stmt 0 view .LVU71
 232 009a 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 233              		.loc 1 147 31 view .LVU72
 234 009c C369     		ldr	r3, [r0, #28]
 235 009e 62F31653 		bfi	r3, r2, #20, #3
 236 00a2 C361     		str	r3, [r0, #28]
 148:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->BITTIM_B.BRPSC   = canConfig->prescaler - 1;
 237              		.loc 1 148 9 is_stmt 1 view .LVU73
 238              		.loc 1 148 42 is_stmt 0 view .LVU74
 239 00a4 4B89     		ldrh	r3, [r1, #10]
 240              		.loc 1 148 54 view .LVU75
 241 00a6 013B     		subs	r3, r3, #1
 242              		.loc 1 148 31 view .LVU76
 243 00a8 C269     		ldr	r2, [r0, #28]
 244 00aa 63F30902 		bfi	r2, r3, #0, #10
 245 00ae C261     		str	r2, [r0, #28]
 149:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 150:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Request leave initialisation */
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 8


 151:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 246              		.loc 1 151 9 is_stmt 1 view .LVU77
 247              		.loc 1 151 30 is_stmt 0 view .LVU78
 248 00b0 0368     		ldr	r3, [r0]
 249 00b2 6FF30003 		bfc	r3, #0, #1
 250 00b6 0360     		str	r3, [r0]
 152:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 153:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         wait_ack = 0;
 251              		.loc 1 153 9 is_stmt 1 view .LVU79
 252              	.LVL14:
 154:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Wait the acknowledge */
 155:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         while(((can->MSTS_B.INITFLG) != BIT_RESET) && (wait_ack != 0x0000FFFF))
 253              		.loc 1 155 9 view .LVU80
 153:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Wait the acknowledge */
 254              		.loc 1 153 18 is_stmt 0 view .LVU81
 255 00b8 0023     		movs	r3, #0
 256              		.loc 1 155 14 view .LVU82
 257 00ba 19E0     		b	.L24
 258              	.LVL15:
 259              	.L29:
  99:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 260              		.loc 1 99 13 is_stmt 1 view .LVU83
  99:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 261              		.loc 1 99 34 is_stmt 0 view .LVU84
 262 00bc 0368     		ldr	r3, [r0]
 263 00be 43F04003 		orr	r3, r3, #64
 264 00c2 0360     		str	r3, [r0]
 265 00c4 BAE7     		b	.L15
 266              	.L30:
 108:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 267              		.loc 1 108 13 is_stmt 1 view .LVU85
 108:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 268              		.loc 1 108 34 is_stmt 0 view .LVU86
 269 00c6 0368     		ldr	r3, [r0]
 270 00c8 43F02003 		orr	r3, r3, #32
 271 00cc 0360     		str	r3, [r0]
 272 00ce BCE7     		b	.L17
 273              	.L31:
 117:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 274              		.loc 1 117 13 is_stmt 1 view .LVU87
 117:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 275              		.loc 1 117 33 is_stmt 0 view .LVU88
 276 00d0 0368     		ldr	r3, [r0]
 277 00d2 43F01003 		orr	r3, r3, #16
 278 00d6 0360     		str	r3, [r0]
 279 00d8 BEE7     		b	.L19
 280              	.L32:
 126:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 281              		.loc 1 126 13 is_stmt 1 view .LVU89
 126:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 282              		.loc 1 126 34 is_stmt 0 view .LVU90
 283 00da 0368     		ldr	r3, [r0]
 284 00dc 43F00803 		orr	r3, r3, #8
 285 00e0 0360     		str	r3, [r0]
 286 00e2 C0E7     		b	.L21
 287              	.L33:
 135:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 9


 288              		.loc 1 135 13 is_stmt 1 view .LVU91
 135:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 289              		.loc 1 135 34 is_stmt 0 view .LVU92
 290 00e4 0368     		ldr	r3, [r0]
 291 00e6 43F00403 		orr	r3, r3, #4
 292 00ea 0360     		str	r3, [r0]
 293 00ec C2E7     		b	.L23
 294              	.LVL16:
 295              	.L26:
 156:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 157:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             wait_ack++;
 296              		.loc 1 157 13 is_stmt 1 view .LVU93
 297              		.loc 1 157 21 is_stmt 0 view .LVU94
 298 00ee 0133     		adds	r3, r3, #1
 299              	.LVL17:
 300              	.L24:
 155:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 301              		.loc 1 155 14 is_stmt 1 view .LVU95
 155:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 302              		.loc 1 155 28 is_stmt 0 view .LVU96
 303 00f0 4268     		ldr	r2, [r0, #4]
 155:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 304              		.loc 1 155 14 view .LVU97
 305 00f2 12F0010F 		tst	r2, #1
 306 00f6 03D0     		beq	.L25
 155:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 307              		.loc 1 155 52 discriminator 1 view .LVU98
 308 00f8 4FF6FF72 		movw	r2, #65535
 309 00fc 9342     		cmp	r3, r2
 310 00fe F6D1     		bne	.L26
 311              	.L25:
 158:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 159:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Check acknowledge */
 160:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if(((can->MSTS_B.INITFLG) != BIT_RESET))
 312              		.loc 1 160 9 is_stmt 1 view .LVU99
 313              		.loc 1 160 25 is_stmt 0 view .LVU100
 314 0100 4368     		ldr	r3, [r0, #4]
 315              	.LVL18:
 316              		.loc 1 160 11 view .LVU101
 317 0102 13F0010F 		tst	r3, #1
 318 0106 03D0     		beq	.L28
 161:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 162:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             initStatus = ERROR;
 319              		.loc 1 162 24 view .LVU102
 320 0108 0020     		movs	r0, #0
 321              	.LVL19:
 322              		.loc 1 162 24 view .LVU103
 323 010a 7047     		bx	lr
 324              	.LVL20:
 325              	.L27:
  93:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 326              		.loc 1 93 20 view .LVU104
 327 010c 0020     		movs	r0, #0
 328              	.LVL21:
  93:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 329              		.loc 1 93 20 view .LVU105
 330 010e 7047     		bx	lr
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 10


 331              	.LVL22:
 332              	.L28:
 163:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 164:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 165:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 166:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             initStatus = SUCCESS;
 333              		.loc 1 166 24 view .LVU106
 334 0110 0120     		movs	r0, #1
 335              	.LVL23:
 167:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 168:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 169:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return initStatus;
 336              		.loc 1 169 5 is_stmt 1 view .LVU107
 170:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 337              		.loc 1 170 1 is_stmt 0 view .LVU108
 338 0112 7047     		bx	lr
 339              		.cfi_endproc
 340              	.LFE66:
 342              		.section	.text.CAN_ConfigFilter,"ax",%progbits
 343              		.align	1
 344              		.global	CAN_ConfigFilter
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 349              	CAN_ConfigFilter:
 350              	.LVL24:
 351              	.LFB67:
 171:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 172:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 173:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Congig the CAN peripheral according to the specified parameters in the filterConfig.
 174:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 175:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral which can be CAN1 or CAN2.
 176:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 177:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     filterConfig :Point to a CAN_FilterConfig_T structure.
 178:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 179:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 180:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 181:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 182:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 183:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_ConfigFilter(CAN_T* can, CAN_FilterConfig_T* filterConfig)
 184:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 352              		.loc 1 184 1 is_stmt 1 view -0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356              		@ link register save eliminated.
 185:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FCTRL_B.FINITEN = BIT_SET;
 357              		.loc 1 185 5 view .LVU110
 358              		.loc 1 185 26 is_stmt 0 view .LVU111
 359 0000 D0F80032 		ldr	r3, [r0, #512]
 360 0004 43F00103 		orr	r3, r3, #1
 361 0008 C0F80032 		str	r3, [r0, #512]
 186:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 187:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FACT &= ~(1 << filterConfig->filterNumber);
 362              		.loc 1 187 5 is_stmt 1 view .LVU112
 363              		.loc 1 187 15 is_stmt 0 view .LVU113
 364 000c D0F81C32 		ldr	r3, [r0, #540]
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 11


 365              		.loc 1 187 37 view .LVU114
 366 0010 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 367              		.loc 1 187 22 view .LVU115
 368 0014 0122     		movs	r2, #1
 369 0016 02FA0CF2 		lsl	r2, r2, ip
 370              		.loc 1 187 15 view .LVU116
 371 001a 23EA0203 		bic	r3, r3, r2
 372 001e C0F81C32 		str	r3, [r0, #540]
 188:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 189:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Filter Scale */
 190:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterScale == CAN_FILTER_SCALE_16BIT)
 373              		.loc 1 190 5 is_stmt 1 view .LVU117
 374              		.loc 1 190 20 is_stmt 0 view .LVU118
 375 0022 8B7B     		ldrb	r3, [r1, #14]	@ zero_extendqisi2
 376              		.loc 1 190 7 view .LVU119
 377 0024 EBB9     		cbnz	r3, .L35
 191:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 192:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** 16-bit scale for the filter */
 193:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FSCFG &= ~(1 << filterConfig->filterNumber);
 378              		.loc 1 193 9 is_stmt 1 view .LVU120
 379              		.loc 1 193 20 is_stmt 0 view .LVU121
 380 0026 D0F80C32 		ldr	r3, [r0, #524]
 381              		.loc 1 193 42 view .LVU122
 382 002a 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 383              		.loc 1 193 27 view .LVU123
 384 002e 0122     		movs	r2, #1
 385 0030 02FA0CF2 		lsl	r2, r2, ip
 386              		.loc 1 193 20 view .LVU124
 387 0034 23EA0203 		bic	r3, r3, r2
 388 0038 C0F80C32 		str	r3, [r0, #524]
 194:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 195:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sFilterRegister[filterConfig->filterNumber].FBANK1 =
 389              		.loc 1 195 9 is_stmt 1 view .LVU125
 196:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdLow) << 16) |
 390              		.loc 1 196 40 is_stmt 0 view .LVU126
 391 003c B1F808C0 		ldrh	ip, [r1, #8]
 197:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterIdLow);
 392              		.loc 1 197 39 view .LVU127
 393 0040 8A88     		ldrh	r2, [r1, #4]
 195:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdLow) << 16) |
 394              		.loc 1 195 42 view .LVU128
 395 0042 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 196:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdLow) << 16) |
 396              		.loc 1 196 66 view .LVU129
 397 0044 42EA0C42 		orr	r2, r2, ip, lsl #16
 195:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdLow) << 16) |
 398              		.loc 1 195 65 view .LVU130
 399 0048 4833     		adds	r3, r3, #72
 400 004a 40F83320 		str	r2, [r0, r3, lsl #3]
 198:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 199:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sFilterRegister[filterConfig->filterNumber].FBANK2 =
 401              		.loc 1 199 9 is_stmt 1 view .LVU131
 200:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 402              		.loc 1 200 40 is_stmt 0 view .LVU132
 403 004e B1F806C0 		ldrh	ip, [r1, #6]
 201:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterIdHigh);
 404              		.loc 1 201 39 view .LVU133
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 12


 405 0052 4A88     		ldrh	r2, [r1, #2]
 199:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 406              		.loc 1 199 42 view .LVU134
 407 0054 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 200:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 408              		.loc 1 200 67 view .LVU135
 409 0056 42EA0C42 		orr	r2, r2, ip, lsl #16
 199:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 410              		.loc 1 199 65 view .LVU136
 411 005a 4833     		adds	r3, r3, #72
 412 005c 00EBC303 		add	r3, r0, r3, lsl #3
 413 0060 5A60     		str	r2, [r3, #4]
 414              	.L35:
 202:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 203:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 204:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterScale == CAN_FILTER_SCALE_32BIT)
 415              		.loc 1 204 5 is_stmt 1 view .LVU137
 416              		.loc 1 204 20 is_stmt 0 view .LVU138
 417 0062 8B7B     		ldrb	r3, [r1, #14]	@ zero_extendqisi2
 418              		.loc 1 204 7 view .LVU139
 419 0064 012B     		cmp	r3, #1
 420 0066 27D0     		beq	.L42
 421              	.L36:
 205:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FSCFG |= (1 << filterConfig->filterNumber);
 207:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 208:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sFilterRegister[filterConfig->filterNumber].FBANK1 =
 209:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterIdHigh) << 16) |
 210:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterIdLow);
 211:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 212:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sFilterRegister[filterConfig->filterNumber].FBANK2 =
 213:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 214:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterMaskIdLow);
 215:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 216:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 217:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Filter Mode */
 218:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterMode == CAN_FILTER_MODE_IDMASK)
 422              		.loc 1 218 5 is_stmt 1 view .LVU140
 423              		.loc 1 218 20 is_stmt 0 view .LVU141
 424 0068 4B7B     		ldrb	r3, [r1, #13]	@ zero_extendqisi2
 425              		.loc 1 218 7 view .LVU142
 426 006a 002B     		cmp	r3, #0
 427 006c 42D1     		bne	.L37
 219:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 220:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FMCFG &= ~(1 << filterConfig->filterNumber);
 428              		.loc 1 220 9 is_stmt 1 view .LVU143
 429              		.loc 1 220 20 is_stmt 0 view .LVU144
 430 006e D0F80432 		ldr	r3, [r0, #516]
 431              		.loc 1 220 42 view .LVU145
 432 0072 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 433              		.loc 1 220 27 view .LVU146
 434 0076 0122     		movs	r2, #1
 435 0078 02FA0CF2 		lsl	r2, r2, ip
 436              		.loc 1 220 20 view .LVU147
 437 007c 23EA0203 		bic	r3, r3, r2
 438 0080 C0F80432 		str	r3, [r0, #516]
 439              	.L38:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 13


 221:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 222:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 223:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FMCFG |= (1 << filterConfig->filterNumber);
 225:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 226:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 227:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Filter FIFO assignment */
 228:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterFIFO == CAN_FILTER_FIFO_0)
 440              		.loc 1 228 5 is_stmt 1 view .LVU148
 441              		.loc 1 228 20 is_stmt 0 view .LVU149
 442 0084 0B7B     		ldrb	r3, [r1, #12]	@ zero_extendqisi2
 443              		.loc 1 228 7 view .LVU150
 444 0086 53B9     		cbnz	r3, .L39
 229:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 230:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FFASS &= ~(1 << filterConfig->filterNumber);
 445              		.loc 1 230 9 is_stmt 1 view .LVU151
 446              		.loc 1 230 20 is_stmt 0 view .LVU152
 447 0088 D0F81432 		ldr	r3, [r0, #532]
 448              		.loc 1 230 42 view .LVU153
 449 008c 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 450              		.loc 1 230 27 view .LVU154
 451 0090 0122     		movs	r2, #1
 452 0092 02FA0CF2 		lsl	r2, r2, ip
 453              		.loc 1 230 20 view .LVU155
 454 0096 23EA0203 		bic	r3, r3, r2
 455 009a C0F81432 		str	r3, [r0, #532]
 456              	.L39:
 231:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 232:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterFIFO == CAN_FILTER_FIFO_1)
 457              		.loc 1 232 5 is_stmt 1 view .LVU156
 458              		.loc 1 232 20 is_stmt 0 view .LVU157
 459 009e 0B7B     		ldrb	r3, [r1, #12]	@ zero_extendqisi2
 460              		.loc 1 232 7 view .LVU158
 461 00a0 012B     		cmp	r3, #1
 462 00a2 32D0     		beq	.L43
 463              	.L40:
 233:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FFASS |= (1 << filterConfig->filterNumber);
 235:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 236:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 237:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Filter activation */
 238:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(filterConfig->filterActivation == ENABLE)
 464              		.loc 1 238 5 is_stmt 1 view .LVU159
 465              		.loc 1 238 20 is_stmt 0 view .LVU160
 466 00a4 4B89     		ldrh	r3, [r1, #10]
 467              		.loc 1 238 7 view .LVU161
 468 00a6 012B     		cmp	r3, #1
 469 00a8 3AD0     		beq	.L44
 470              	.LVL25:
 471              	.L41:
 239:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->FACT |= (1 << filterConfig->filterNumber);
 241:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 242:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FCTRL_B.FINITEN = BIT_RESET;
 472              		.loc 1 242 5 is_stmt 1 view .LVU162
 473              		.loc 1 242 26 is_stmt 0 view .LVU163
 474 00aa D0F80032 		ldr	r3, [r0, #512]
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 14


 475 00ae 6FF30003 		bfc	r3, #0, #1
 476 00b2 C0F80032 		str	r3, [r0, #512]
 243:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 477              		.loc 1 243 1 view .LVU164
 478 00b6 7047     		bx	lr
 479              	.LVL26:
 480              	.L42:
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 481              		.loc 1 206 9 is_stmt 1 view .LVU165
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 482              		.loc 1 206 20 is_stmt 0 view .LVU166
 483 00b8 D0F80C32 		ldr	r3, [r0, #524]
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 484              		.loc 1 206 41 view .LVU167
 485 00bc 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 486              		.loc 1 206 26 view .LVU168
 487 00c0 0122     		movs	r2, #1
 488 00c2 02FA0CF2 		lsl	r2, r2, ip
 206:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 489              		.loc 1 206 20 view .LVU169
 490 00c6 1343     		orrs	r3, r3, r2
 491 00c8 C0F80C32 		str	r3, [r0, #524]
 208:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterIdHigh) << 16) |
 492              		.loc 1 208 9 is_stmt 1 view .LVU170
 209:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterIdLow);
 493              		.loc 1 209 40 is_stmt 0 view .LVU171
 494 00cc B1F802C0 		ldrh	ip, [r1, #2]
 210:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 495              		.loc 1 210 39 view .LVU172
 496 00d0 8A88     		ldrh	r2, [r1, #4]
 208:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterIdHigh) << 16) |
 497              		.loc 1 208 42 view .LVU173
 498 00d2 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 209:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterIdLow);
 499              		.loc 1 209 63 view .LVU174
 500 00d4 42EA0C42 		orr	r2, r2, ip, lsl #16
 208:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterIdHigh) << 16) |
 501              		.loc 1 208 65 view .LVU175
 502 00d8 4833     		adds	r3, r3, #72
 503 00da 40F83320 		str	r2, [r0, r3, lsl #3]
 212:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 504              		.loc 1 212 9 is_stmt 1 view .LVU176
 213:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterMaskIdLow);
 505              		.loc 1 213 40 is_stmt 0 view .LVU177
 506 00de B1F806C0 		ldrh	ip, [r1, #6]
 214:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 507              		.loc 1 214 39 view .LVU178
 508 00e2 0A89     		ldrh	r2, [r1, #8]
 212:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 509              		.loc 1 212 42 view .LVU179
 510 00e4 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 213:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             (0x0000FFFF & filterConfig->filterMaskIdLow);
 511              		.loc 1 213 67 view .LVU180
 512 00e6 42EA0C42 		orr	r2, r2, ip, lsl #16
 212:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             ((0x0000FFFF & filterConfig->filterMaskIdHigh) << 16) |
 513              		.loc 1 212 65 view .LVU181
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 15


 514 00ea 4833     		adds	r3, r3, #72
 515 00ec 00EBC303 		add	r3, r0, r3, lsl #3
 516 00f0 5A60     		str	r2, [r3, #4]
 517 00f2 B9E7     		b	.L36
 518              	.L37:
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 519              		.loc 1 224 9 is_stmt 1 view .LVU182
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 520              		.loc 1 224 20 is_stmt 0 view .LVU183
 521 00f4 D0F80432 		ldr	r3, [r0, #516]
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 522              		.loc 1 224 41 view .LVU184
 523 00f8 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 524              		.loc 1 224 26 view .LVU185
 525 00fc 0122     		movs	r2, #1
 526 00fe 02FA0CF2 		lsl	r2, r2, ip
 224:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 527              		.loc 1 224 20 view .LVU186
 528 0102 1343     		orrs	r3, r3, r2
 529 0104 C0F80432 		str	r3, [r0, #516]
 530 0108 BCE7     		b	.L38
 531              	.L43:
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 532              		.loc 1 234 9 is_stmt 1 view .LVU187
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 533              		.loc 1 234 20 is_stmt 0 view .LVU188
 534 010a D0F81432 		ldr	r3, [r0, #532]
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 535              		.loc 1 234 41 view .LVU189
 536 010e 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 537              		.loc 1 234 26 view .LVU190
 538 0112 0122     		movs	r2, #1
 539 0114 02FA0CF2 		lsl	r2, r2, ip
 234:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 540              		.loc 1 234 20 view .LVU191
 541 0118 1343     		orrs	r3, r3, r2
 542 011a C0F81432 		str	r3, [r0, #532]
 543 011e C1E7     		b	.L40
 544              	.L44:
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 545              		.loc 1 240 9 is_stmt 1 view .LVU192
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 546              		.loc 1 240 19 is_stmt 0 view .LVU193
 547 0120 D0F81C32 		ldr	r3, [r0, #540]
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 548              		.loc 1 240 40 view .LVU194
 549 0124 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 550              	.LVL27:
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 551              		.loc 1 240 25 view .LVU195
 552 0126 0122     		movs	r2, #1
 553 0128 8A40     		lsls	r2, r2, r1
 240:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 554              		.loc 1 240 19 view .LVU196
 555 012a 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 16


 556 012c C0F81C32 		str	r3, [r0, #540]
 557 0130 BBE7     		b	.L41
 558              		.cfi_endproc
 559              	.LFE67:
 561              		.section	.text.CAN_ConfigStructInit,"ax",%progbits
 562              		.align	1
 563              		.global	CAN_ConfigStructInit
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 568              	CAN_ConfigStructInit:
 569              	.LVL28:
 570              	.LFB68:
 244:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 245:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 246:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Initialize a CAN_Config_T structure with the initial value.
 247:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 248:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     canConfig :Point to a CAN_Config_T structure.
 249:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 250:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 251:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 252:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 253:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 254:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_ConfigStructInit(CAN_Config_T* canConfig)
 255:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 571              		.loc 1 255 1 is_stmt 1 view -0
 572              		.cfi_startproc
 573              		@ args = 0, pretend = 0, frame = 0
 574              		@ frame_needed = 0, uses_anonymous_args = 0
 575              		@ link register save eliminated.
 256:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->autoBusOffManage = DISABLE;
 576              		.loc 1 256 5 view .LVU198
 577              		.loc 1 256 33 is_stmt 0 view .LVU199
 578 0000 0023     		movs	r3, #0
 579 0002 0370     		strb	r3, [r0]
 257:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->autoWakeUpMode   = DISABLE;
 580              		.loc 1 257 5 is_stmt 1 view .LVU200
 581              		.loc 1 257 33 is_stmt 0 view .LVU201
 582 0004 4370     		strb	r3, [r0, #1]
 258:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->nonAutoRetran    = DISABLE;
 583              		.loc 1 258 5 is_stmt 1 view .LVU202
 584              		.loc 1 258 33 is_stmt 0 view .LVU203
 585 0006 8370     		strb	r3, [r0, #2]
 259:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->rxFIFOLockMode   = DISABLE;
 586              		.loc 1 259 5 is_stmt 1 view .LVU204
 587              		.loc 1 259 33 is_stmt 0 view .LVU205
 588 0008 C370     		strb	r3, [r0, #3]
 260:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->txFIFOPriority   = DISABLE;
 589              		.loc 1 260 5 is_stmt 1 view .LVU206
 590              		.loc 1 260 33 is_stmt 0 view .LVU207
 591 000a 0371     		strb	r3, [r0, #4]
 261:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->mode             = CAN_MODE_NORMAL;
 592              		.loc 1 261 5 is_stmt 1 view .LVU208
 593              		.loc 1 261 33 is_stmt 0 view .LVU209
 594 000c 4371     		strb	r3, [r0, #5]
 262:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->syncJumpWidth    = CAN_SJW_1;
 595              		.loc 1 262 5 is_stmt 1 view .LVU210
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 17


 596              		.loc 1 262 33 is_stmt 0 view .LVU211
 597 000e 8371     		strb	r3, [r0, #6]
 263:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->timeSegment1     = CAN_TIME_SEGMENT1_4;
 598              		.loc 1 263 5 is_stmt 1 view .LVU212
 599              		.loc 1 263 33 is_stmt 0 view .LVU213
 600 0010 0323     		movs	r3, #3
 601 0012 C371     		strb	r3, [r0, #7]
 264:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->timeSegment2     = CAN_TIME_SEGMENT2_3;
 602              		.loc 1 264 5 is_stmt 1 view .LVU214
 603              		.loc 1 264 33 is_stmt 0 view .LVU215
 604 0014 0223     		movs	r3, #2
 605 0016 0372     		strb	r3, [r0, #8]
 265:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     canConfig->prescaler        = 1;
 606              		.loc 1 265 5 is_stmt 1 view .LVU216
 607              		.loc 1 265 33 is_stmt 0 view .LVU217
 608 0018 0123     		movs	r3, #1
 609 001a 4381     		strh	r3, [r0, #10]	@ movhi
 266:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 610              		.loc 1 266 1 view .LVU218
 611 001c 7047     		bx	lr
 612              		.cfi_endproc
 613              	.LFE68:
 615              		.section	.text.CAN_EnableDBGFreeze,"ax",%progbits
 616              		.align	1
 617              		.global	CAN_EnableDBGFreeze
 618              		.syntax unified
 619              		.thumb
 620              		.thumb_func
 622              	CAN_EnableDBGFreeze:
 623              	.LVL29:
 624              	.LFB69:
 267:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 268:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 269:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Enables the DBG Freeze for CAN.
 270:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 271:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 272:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 273:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 274:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 275:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 276:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 277:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_EnableDBGFreeze(CAN_T* can)
 278:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 625              		.loc 1 278 1 is_stmt 1 view -0
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 0
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629              		@ link register save eliminated.
 279:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.DBGFRZE = ENABLE;
 630              		.loc 1 279 5 view .LVU220
 631              		.loc 1 279 26 is_stmt 0 view .LVU221
 632 0000 0368     		ldr	r3, [r0]
 633 0002 43F48033 		orr	r3, r3, #65536
 634 0006 0360     		str	r3, [r0]
 280:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 635              		.loc 1 280 1 view .LVU222
 636 0008 7047     		bx	lr
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 18


 637              		.cfi_endproc
 638              	.LFE69:
 640              		.section	.text.CAN_DisableDBGFreeze,"ax",%progbits
 641              		.align	1
 642              		.global	CAN_DisableDBGFreeze
 643              		.syntax unified
 644              		.thumb
 645              		.thumb_func
 647              	CAN_DisableDBGFreeze:
 648              	.LVL30:
 649              	.LFB70:
 281:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 282:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 283:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Disable the DBG Freeze for CAN.
 284:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 285:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 286:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 287:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 288:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 289:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 290:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 291:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_DisableDBGFreeze(CAN_T* can)
 292:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 650              		.loc 1 292 1 is_stmt 1 view -0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 0
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 654              		@ link register save eliminated.
 293:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.DBGFRZE = DISABLE;
 655              		.loc 1 293 5 view .LVU224
 656              		.loc 1 293 26 is_stmt 0 view .LVU225
 657 0000 0368     		ldr	r3, [r0]
 658 0002 6FF31043 		bfc	r3, #16, #1
 659 0006 0360     		str	r3, [r0]
 294:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 660              		.loc 1 294 1 view .LVU226
 661 0008 7047     		bx	lr
 662              		.cfi_endproc
 663              	.LFE70:
 665              		.section	.text.CAN_SlaveStartBank,"ax",%progbits
 666              		.align	1
 667              		.global	CAN_SlaveStartBank
 668              		.syntax unified
 669              		.thumb
 670              		.thumb_func
 672              	CAN_SlaveStartBank:
 673              	.LVL31:
 674              	.LFB71:
 295:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 296:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 297:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Select the start bank filter for slave CAN.
 298:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 299:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     bankNum: the start slave bank filter from 1..27.
 300:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 301:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 302:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 303:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_SlaveStartBank(CAN_T* can, uint8_t bankNum)
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 19


 304:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 675              		.loc 1 304 1 is_stmt 1 view -0
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 0
 678              		@ frame_needed = 0, uses_anonymous_args = 0
 679              		@ link register save eliminated.
 305:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FCTRL_B.FINITEN = SET;
 680              		.loc 1 305 5 view .LVU228
 681              		.loc 1 305 26 is_stmt 0 view .LVU229
 682 0000 D0F80032 		ldr	r3, [r0, #512]
 683 0004 43F00103 		orr	r3, r3, #1
 684 0008 C0F80032 		str	r3, [r0, #512]
 306:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FCTRL_B.CAN2BN  = bankNum;
 685              		.loc 1 306 5 is_stmt 1 view .LVU230
 686              		.loc 1 306 26 is_stmt 0 view .LVU231
 687 000c D0F80032 		ldr	r3, [r0, #512]
 688 0010 61F30D23 		bfi	r3, r1, #8, #6
 689 0014 C0F80032 		str	r3, [r0, #512]
 307:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->FCTRL_B.FINITEN = RESET;
 690              		.loc 1 307 5 is_stmt 1 view .LVU232
 691              		.loc 1 307 26 is_stmt 0 view .LVU233
 692 0018 D0F80032 		ldr	r3, [r0, #512]
 693 001c 6FF30003 		bfc	r3, #0, #1
 694 0020 C0F80032 		str	r3, [r0, #512]
 308:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 695              		.loc 1 308 1 view .LVU234
 696 0024 7047     		bx	lr
 697              		.cfi_endproc
 698              	.LFE71:
 700              		.section	.text.CAN_TxMessage,"ax",%progbits
 701              		.align	1
 702              		.global	CAN_TxMessage
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 707              	CAN_TxMessage:
 708              	.LVL32:
 709              	.LFB72:
 309:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 310:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 311:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Initiates the transmission of a message.
 312:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 313:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 314:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 315:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     TxMessage: pointer to a CAN_TxMessage_T structure.
 316:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 317:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    The number of the mailbox which is used for transmission or 3 if No mailbox is empty.
 318:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 319:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 320:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 321:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_TxMessage(CAN_T* can, CAN_TxMessage_T* TxMessage)
 322:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 710              		.loc 1 322 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              		.loc 1 322 1 is_stmt 0 view .LVU236
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 20


 715 0000 0346     		mov	r3, r0
 323:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t transmit_milbox = 0;
 716              		.loc 1 323 5 is_stmt 1 view .LVU237
 717              	.LVL33:
 324:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 325:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Select one empty transmit mailbox */
 326:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if((can->TXSTS & 0x04000000) == 0x04000000)
 718              		.loc 1 326 5 view .LVU238
 719              		.loc 1 326 12 is_stmt 0 view .LVU239
 720 0002 8268     		ldr	r2, [r0, #8]
 721              		.loc 1 326 7 view .LVU240
 722 0004 12F0806F 		tst	r2, #67108864
 723 0008 09D1     		bne	.L54
 327:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 328:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         transmit_milbox = 0;
 329:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 330:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if((can->TXSTS & 0x08000000) == 0x08000000)
 724              		.loc 1 330 10 is_stmt 1 view .LVU241
 725              		.loc 1 330 17 is_stmt 0 view .LVU242
 726 000a 8268     		ldr	r2, [r0, #8]
 727              		.loc 1 330 12 view .LVU243
 728 000c 12F0006F 		tst	r2, #134217728
 729 0010 50D1     		bne	.L55
 331:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 332:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         transmit_milbox = 1;
 333:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 334:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if((can->TXSTS & 0x10000000) == 0x10000000)
 730              		.loc 1 334 10 is_stmt 1 view .LVU244
 731              		.loc 1 334 17 is_stmt 0 view .LVU245
 732 0012 8268     		ldr	r2, [r0, #8]
 733              		.loc 1 334 12 view .LVU246
 734 0014 12F0805F 		tst	r2, #268435456
 735 0018 5DD0     		beq	.L56
 335:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 336:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         transmit_milbox = 2;
 736              		.loc 1 336 25 view .LVU247
 737 001a 0220     		movs	r0, #2
 738              	.LVL34:
 739              		.loc 1 336 25 view .LVU248
 740 001c 00E0     		b	.L50
 741              	.LVL35:
 742              	.L54:
 328:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 743              		.loc 1 328 25 view .LVU249
 744 001e 0020     		movs	r0, #0
 745              	.LVL36:
 746              	.L50:
 322:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t transmit_milbox = 0;
 747              		.loc 1 322 1 view .LVU250
 748 0020 30B5     		push	{r4, r5, lr}
 749              	.LCFI1:
 750              		.cfi_def_cfa_offset 12
 751              		.cfi_offset 4, -12
 752              		.cfi_offset 5, -8
 753              		.cfi_offset 14, -4
 754              	.LVL37:
 337:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     } else
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 21


 338:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 339:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         return 3;  //!< No mailbox is empty
 340:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 341:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 342:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Set up the Id */
 343:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXMID &= 0x00000001;
 755              		.loc 1 343 5 is_stmt 1 view .LVU251
 756              		.loc 1 343 44 is_stmt 0 view .LVU252
 757 0022 8646     		mov	lr, r0
 758 0024 00F11802 		add	r2, r0, #24
 759 0028 1201     		lsls	r2, r2, #4
 760 002a 9C58     		ldr	r4, [r3, r2]
 761 002c 04F00104 		and	r4, r4, #1
 762 0030 9C50     		str	r4, [r3, r2]
 344:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(TxMessage->typeID == CAN_TYPEID_STD)
 763              		.loc 1 344 5 is_stmt 1 view .LVU253
 764              		.loc 1 344 17 is_stmt 0 view .LVU254
 765 0032 0A7A     		ldrb	r2, [r1, #8]	@ zero_extendqisi2
 766              		.loc 1 344 7 view .LVU255
 767 0034 002A     		cmp	r2, #0
 768 0036 3FD1     		bne	.L52
 345:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 346:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sTxMailBox[transmit_milbox].TXMID |= (TxMessage->stdID << 21) | (TxMessage->remoteTxRe
 769              		.loc 1 346 9 is_stmt 1 view .LVU256
 770              		.loc 1 346 48 is_stmt 0 view .LVU257
 771 0038 00F11802 		add	r2, r0, #24
 772 003c 1201     		lsls	r2, r2, #4
 773 003e 9C58     		ldr	r4, [r3, r2]
 774              		.loc 1 346 88 view .LVU258
 775 0040 4D7A     		ldrb	r5, [r1, #9]	@ zero_extendqisi2
 776              		.loc 1 346 76 view .LVU259
 777 0042 D1F800C0 		ldr	ip, [r1]
 778 0046 45EA4C55 		orr	r5, r5, ip, lsl #21
 779              		.loc 1 346 48 view .LVU260
 780 004a 2C43     		orrs	r4, r4, r5
 781 004c 9C50     		str	r4, [r3, r2]
 782              	.L53:
 347:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     } else
 348:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->sTxMailBox[transmit_milbox].TXMID |= (TxMessage->extID << 3) | (TxMessage->typeID) | (
 350:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 351:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 352:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Set up the TXDLEN */
 353:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     TxMessage->dataLengthCode &= 0x0F;
 783              		.loc 1 353 5 is_stmt 1 view .LVU261
 784              		.loc 1 353 31 is_stmt 0 view .LVU262
 785 004e 8A7A     		ldrb	r2, [r1, #10]	@ zero_extendqisi2
 786 0050 02F00F02 		and	r2, r2, #15
 787 0054 8A72     		strb	r2, [r1, #10]
 354:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXDLEN &= (uint32_t)0xFFFFFFF0;
 788              		.loc 1 354 5 is_stmt 1 view .LVU263
 789              		.loc 1 354 45 is_stmt 0 view .LVU264
 790 0056 0EF11802 		add	r2, lr, #24
 791 005a 4FEA021C 		lsl	ip, r2, #4
 792 005e 03EB0212 		add	r2, r3, r2, lsl #4
 793 0062 5468     		ldr	r4, [r2, #4]
 794 0064 24F00F04 		bic	r4, r4, #15
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 22


 795 0068 5460     		str	r4, [r2, #4]
 355:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXDLEN |= TxMessage->dataLengthCode;
 796              		.loc 1 355 5 is_stmt 1 view .LVU265
 797              		.loc 1 355 45 is_stmt 0 view .LVU266
 798 006a 5468     		ldr	r4, [r2, #4]
 799              		.loc 1 355 57 view .LVU267
 800 006c 8D7A     		ldrb	r5, [r1, #10]	@ zero_extendqisi2
 801              		.loc 1 355 45 view .LVU268
 802 006e 2C43     		orrs	r4, r4, r5
 803 0070 5460     		str	r4, [r2, #4]
 356:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 357:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Set up the data field */
 358:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXMDL = ((uint32_t)TxMessage->data[3] << 24) | ((uint32_t)TxMe
 804              		.loc 1 358 5 is_stmt 1 view .LVU269
 805              		.loc 1 358 72 is_stmt 0 view .LVU270
 806 0072 8C7B     		ldrb	r4, [r1, #14]	@ zero_extendqisi2
 807              		.loc 1 358 111 view .LVU271
 808 0074 4A7B     		ldrb	r2, [r1, #13]	@ zero_extendqisi2
 809              		.loc 1 358 115 view .LVU272
 810 0076 1204     		lsls	r2, r2, #16
 811              		.loc 1 358 83 view .LVU273
 812 0078 42EA0462 		orr	r2, r2, r4, lsl #24
 359:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             | ((uint32_t)TxMessage->data[1] << 8) | ((uint32_t)TxMessage->data[0]);
 813              		.loc 1 359 41 view .LVU274
 814 007c 0C7B     		ldrb	r4, [r1, #12]	@ zero_extendqisi2
 815              		.loc 1 359 13 view .LVU275
 816 007e 42EA0422 		orr	r2, r2, r4, lsl #8
 817              		.loc 1 359 79 view .LVU276
 818 0082 CC7A     		ldrb	r4, [r1, #11]	@ zero_extendqisi2
 819              		.loc 1 359 51 view .LVU277
 820 0084 2243     		orrs	r2, r2, r4
 358:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             | ((uint32_t)TxMessage->data[1] << 8) | ((uint32_t)TxMessage->data[0]);
 821              		.loc 1 358 44 view .LVU278
 822 0086 03EB0E1E 		add	lr, r3, lr, lsl #4
 823 008a CEF88821 		str	r2, [lr, #392]
 360:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXMDH = ((uint32_t)TxMessage->data[7] << 24) | ((uint32_t)TxMe
 824              		.loc 1 360 5 is_stmt 1 view .LVU279
 825              		.loc 1 360 72 is_stmt 0 view .LVU280
 826 008e 8C7C     		ldrb	r4, [r1, #18]	@ zero_extendqisi2
 827              		.loc 1 360 111 view .LVU281
 828 0090 4A7C     		ldrb	r2, [r1, #17]	@ zero_extendqisi2
 829              		.loc 1 360 115 view .LVU282
 830 0092 1204     		lsls	r2, r2, #16
 831              		.loc 1 360 83 view .LVU283
 832 0094 42EA0462 		orr	r2, r2, r4, lsl #24
 361:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             | ((uint32_t)TxMessage->data[5] << 8) | ((uint32_t)TxMessage->data[4]);
 833              		.loc 1 361 41 view .LVU284
 834 0098 0C7C     		ldrb	r4, [r1, #16]	@ zero_extendqisi2
 835              		.loc 1 361 13 view .LVU285
 836 009a 42EA0422 		orr	r2, r2, r4, lsl #8
 837              		.loc 1 361 79 view .LVU286
 838 009e C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 839              	.LVL38:
 840              		.loc 1 361 51 view .LVU287
 841 00a0 0A43     		orrs	r2, r2, r1
 360:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXMDH = ((uint32_t)TxMessage->data[7] << 24) | ((uint32_t)TxMe
 842              		.loc 1 360 44 view .LVU288
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 23


 843 00a2 CEF88C21 		str	r2, [lr, #396]
 362:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Request transmission */
 363:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->sTxMailBox[transmit_milbox].TXMID |= 0x00000001;
 844              		.loc 1 363 5 is_stmt 1 view .LVU289
 845              		.loc 1 363 44 is_stmt 0 view .LVU290
 846 00a6 53F80C20 		ldr	r2, [r3, ip]
 847 00aa 42F00102 		orr	r2, r2, #1
 848 00ae 43F80C20 		str	r2, [r3, ip]
 364:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 365:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return transmit_milbox;
 849              		.loc 1 365 5 is_stmt 1 view .LVU291
 366:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 850              		.loc 1 366 1 is_stmt 0 view .LVU292
 851 00b2 30BD     		pop	{r4, r5, pc}
 852              	.LVL39:
 853              	.L55:
 854              	.LCFI2:
 855              		.cfi_def_cfa_offset 0
 856              		.cfi_restore 4
 857              		.cfi_restore 5
 858              		.cfi_restore 14
 332:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 859              		.loc 1 332 25 view .LVU293
 860 00b4 0120     		movs	r0, #1
 861              	.LVL40:
 332:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 862              		.loc 1 332 25 view .LVU294
 863 00b6 B3E7     		b	.L50
 864              	.LVL41:
 865              	.L52:
 866              	.LCFI3:
 867              		.cfi_def_cfa_offset 12
 868              		.cfi_offset 4, -12
 869              		.cfi_offset 5, -8
 870              		.cfi_offset 14, -4
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 871              		.loc 1 349 9 is_stmt 1 view .LVU295
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 872              		.loc 1 349 48 is_stmt 0 view .LVU296
 873 00b8 00F11804 		add	r4, r0, #24
 874 00bc 2401     		lsls	r4, r4, #4
 875 00be 1D59     		ldr	r5, [r3, r4]
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 876              		.loc 1 349 75 view .LVU297
 877 00c0 D1F804C0 		ldr	ip, [r1, #4]
 878 00c4 42EACC02 		orr	r2, r2, ip, lsl #3
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 879              		.loc 1 349 109 view .LVU298
 880 00c8 91F809C0 		ldrb	ip, [r1, #9]	@ zero_extendqisi2
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 881              		.loc 1 349 97 view .LVU299
 882 00cc 42EA0C02 		orr	r2, r2, ip
 349:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 883              		.loc 1 349 48 view .LVU300
 884 00d0 2A43     		orrs	r2, r2, r5
 885 00d2 1A51     		str	r2, [r3, r4]
 886 00d4 BBE7     		b	.L53
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 24


 887              	.LVL42:
 888              	.L56:
 889              	.LCFI4:
 890              		.cfi_def_cfa_offset 0
 891              		.cfi_restore 4
 892              		.cfi_restore 5
 893              		.cfi_restore 14
 339:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 894              		.loc 1 339 16 view .LVU301
 895 00d6 0320     		movs	r0, #3
 896              	.LVL43:
 897              		.loc 1 366 1 view .LVU302
 898 00d8 7047     		bx	lr
 899              		.cfi_endproc
 900              	.LFE72:
 902              		.section	.text.CAN_TxMessageStatus,"ax",%progbits
 903              		.align	1
 904              		.global	CAN_TxMessageStatus
 905              		.syntax unified
 906              		.thumb
 907              		.thumb_func
 909              	CAN_TxMessageStatus:
 910              	.LVL44:
 911              	.LFB73:
 367:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 368:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 369:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Checks the transmission of a message.
 370:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 371:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 372:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 373:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     transmitMailbox: the number of the mailbox
 374:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 375:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    state: 0: Status of transmission is Failed
 376:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                   1: Status of transmission is Ok
 377:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                   2: transmit pending
 378:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 379:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 380:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 381:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_TxMessageStatus(CAN_T* can, CAN_TX_MAILBIX_T TxMailbox)
 382:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 912              		.loc 1 382 1 is_stmt 1 view -0
 913              		.cfi_startproc
 914              		@ args = 0, pretend = 0, frame = 0
 915              		@ frame_needed = 0, uses_anonymous_args = 0
 916              		@ link register save eliminated.
 383:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t state = 0;
 917              		.loc 1 383 5 view .LVU304
 384:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 385:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     switch (TxMailbox)
 918              		.loc 1 385 5 view .LVU305
 919 0000 0129     		cmp	r1, #1
 920 0002 19D0     		beq	.L61
 921 0004 0229     		cmp	r1, #2
 922 0006 1BD0     		beq	.L62
 923 0008 09B1     		cbz	r1, .L74
 924 000a 0220     		movs	r0, #2
 925              	.LVL45:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 25


 926              		.loc 1 385 5 is_stmt 0 view .LVU306
 927 000c 7047     		bx	lr
 928              	.LVL46:
 929              	.L74:
 386:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 387:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (CAN_TX_MAILBIX_0):
 388:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             state =   can->TXSTS &  (0x00000001 | 0x00000002 | 0x04000000);
 930              		.loc 1 388 13 is_stmt 1 view .LVU307
 931              		.loc 1 388 26 is_stmt 0 view .LVU308
 932 000e 8368     		ldr	r3, [r0, #8]
 933              		.loc 1 388 19 view .LVU309
 934 0010 23F07B43 		bic	r3, r3, #-83886080
 935 0014 23F47F03 		bic	r3, r3, #16711680
 936 0018 23F47F43 		bic	r3, r3, #65280
 937 001c 23F0FC03 		bic	r3, r3, #252
 938              	.LVL47:
 389:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 939              		.loc 1 389 9 is_stmt 1 view .LVU310
 940              	.L64:
 390:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (CAN_TX_MAILBIX_1):
 391:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             state =   can->TXSTS &  (0x00000100 | 0x00000200 | 0x08000000);
 392:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 393:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (CAN_TX_MAILBIX_2):
 394:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             state =   can->TXSTS &  (0x00010000 | 0x00020000 | 0x10000000);
 395:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 396:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         default:
 397:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             state = 0;
 398:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 399:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 400:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     switch (state)
 941              		.loc 1 400 5 view .LVU311
 942 0020 194A     		ldr	r2, .L77
 943 0022 9342     		cmp	r3, r2
 944 0024 25D0     		beq	.L67
 945              		.loc 1 400 5 is_stmt 0 view .LVU312
 946 0026 16D8     		bhi	.L65
 947 0028 184A     		ldr	r2, .L77+4
 948 002a 9342     		cmp	r3, r2
 949 002c 23D0     		beq	.L68
 950 002e 0232     		adds	r2, r2, #2
 951 0030 9342     		cmp	r3, r2
 952 0032 0DD1     		bne	.L75
 401:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 402:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Transmit pending  */
 403:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x0): state = 2;
 404:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 405:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Transmit failed  */
 406:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00000001 | 0x04000000): state = 0;
 407:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 408:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00000100 | 0x08000000): state = 0;
 409:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 410:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00010000 | 0x10000000): state = 0;
 411:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 412:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         /** Transmit succeeded  */
 413:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00000001 | 0x00000002 | 0x04000000):state = 1;
 953              		.loc 1 413 59 view .LVU313
 954 0034 0120     		movs	r0, #1
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 26


 955              	.LVL48:
 956              		.loc 1 413 59 view .LVU314
 957 0036 7047     		bx	lr
 958              	.LVL49:
 959              	.L61:
 391:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 960              		.loc 1 391 13 is_stmt 1 view .LVU315
 391:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 961              		.loc 1 391 26 is_stmt 0 view .LVU316
 962 0038 8268     		ldr	r2, [r0, #8]
 391:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 963              		.loc 1 391 19 view .LVU317
 964 003a 154B     		ldr	r3, .L77+8
 965 003c 1340     		ands	r3, r3, r2
 966              	.LVL50:
 392:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (CAN_TX_MAILBIX_2):
 967              		.loc 1 392 9 is_stmt 1 view .LVU318
 968 003e EFE7     		b	.L64
 969              	.LVL51:
 970              	.L62:
 394:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 971              		.loc 1 394 13 view .LVU319
 394:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 972              		.loc 1 394 26 is_stmt 0 view .LVU320
 973 0040 8368     		ldr	r3, [r0, #8]
 394:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 974              		.loc 1 394 19 view .LVU321
 975 0042 23F06F43 		bic	r3, r3, #-285212672
 976 0046 23F47C03 		bic	r3, r3, #16515072
 977 004a 1B0C     		lsrs	r3, r3, #16
 978 004c 1B04     		lsls	r3, r3, #16
 979              	.LVL52:
 395:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         default:
 980              		.loc 1 395 9 is_stmt 1 view .LVU322
 981 004e E7E7     		b	.L64
 982              	.L75:
 400:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 983              		.loc 1 400 5 is_stmt 0 view .LVU323
 984 0050 9BB9     		cbnz	r3, .L70
 985 0052 0220     		movs	r0, #2
 986              	.LVL53:
 400:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 987              		.loc 1 400 5 view .LVU324
 988 0054 7047     		bx	lr
 989              	.LVL54:
 990              	.L65:
 400:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 991              		.loc 1 400 5 view .LVU325
 992 0056 0F4A     		ldr	r2, .L77+12
 993 0058 9342     		cmp	r3, r2
 994 005a 10D0     		beq	.L71
 995 005c 02F50032 		add	r2, r2, #131072
 996 0060 9342     		cmp	r3, r2
 997 0062 01D1     		bne	.L76
 414:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 415:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00000100 | 0x00000200 | 0x08000000):state = 1;
 416:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 27


 417:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case (0x00010000 | 0x00020000 | 0x10000000):state = 1;
 998              		.loc 1 417 59 view .LVU326
 999 0064 0120     		movs	r0, #1
 1000              	.LVL55:
 1001              		.loc 1 417 59 view .LVU327
 1002 0066 7047     		bx	lr
 1003              	.LVL56:
 1004              	.L76:
 400:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 1005              		.loc 1 400 5 view .LVU328
 1006 0068 094A     		ldr	r2, .L77+8
 1007 006a 9342     		cmp	r3, r2
 1008 006c 09D1     		bne	.L73
 415:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1009              		.loc 1 415 59 view .LVU329
 1010 006e 0120     		movs	r0, #1
 1011              	.LVL57:
 415:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1012              		.loc 1 415 59 view .LVU330
 1013 0070 7047     		bx	lr
 1014              	.LVL58:
 1015              	.L67:
 408:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1016              		.loc 1 408 47 view .LVU331
 1017 0072 0020     		movs	r0, #0
 1018              	.LVL59:
 408:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1019              		.loc 1 408 47 view .LVU332
 1020 0074 7047     		bx	lr
 1021              	.LVL60:
 1022              	.L68:
 406:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1023              		.loc 1 406 47 view .LVU333
 1024 0076 0020     		movs	r0, #0
 1025              	.LVL61:
 406:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1026              		.loc 1 406 47 view .LVU334
 1027 0078 7047     		bx	lr
 1028              	.LVL62:
 1029              	.L70:
 418:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 419:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         default: state = 0;
 1030              		.loc 1 419 24 view .LVU335
 1031 007a 0020     		movs	r0, #0
 1032              	.LVL63:
 1033              		.loc 1 419 24 view .LVU336
 1034 007c 7047     		bx	lr
 1035              	.LVL64:
 1036              	.L71:
 410:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1037              		.loc 1 410 47 view .LVU337
 1038 007e 0020     		movs	r0, #0
 1039              	.LVL65:
 410:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1040              		.loc 1 410 47 view .LVU338
 1041 0080 7047     		bx	lr
 1042              	.LVL66:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 28


 1043              	.L73:
 1044              		.loc 1 419 24 view .LVU339
 1045 0082 0020     		movs	r0, #0
 1046              	.LVL67:
 420:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 421:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 422:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return (uint8_t) state;
 1047              		.loc 1 422 5 is_stmt 1 view .LVU340
 423:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1048              		.loc 1 423 1 is_stmt 0 view .LVU341
 1049 0084 7047     		bx	lr
 1050              	.L78:
 1051 0086 00BF     		.align	2
 1052              	.L77:
 1053 0088 00010008 		.word	134217984
 1054 008c 01000004 		.word	67108865
 1055 0090 00030008 		.word	134218496
 1056 0094 00000110 		.word	268500992
 1057              		.cfi_endproc
 1058              	.LFE73:
 1060              		.section	.text.CAN_CancelTxMailbox,"ax",%progbits
 1061              		.align	1
 1062              		.global	CAN_CancelTxMailbox
 1063              		.syntax unified
 1064              		.thumb
 1065              		.thumb_func
 1067              	CAN_CancelTxMailbox:
 1068              	.LVL68:
 1069              	.LFB74:
 424:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 425:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 426:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Cancels a transmit request.
 427:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 428:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 429:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 430:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     mailBox: the number of the mailbox
 431:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                     This parameter can be one of the following values:
 432:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                     @arg CAN_TX_MAILBIX_0 :  Tx mailbox 0
 433:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                     @arg CAN_TX_MAILBIX_1 :  Tx mailbox 1
 434:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                     @arg CAN_TX_MAILBIX_2 :  Tx mailbox 2
 435:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 436:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 437:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 438:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 439:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 440:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_CancelTxMailbox(CAN_T* can, CAN_TX_MAILBIX_T TxMailbox)
 441:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1070              		.loc 1 441 1 is_stmt 1 view -0
 1071              		.cfi_startproc
 1072              		@ args = 0, pretend = 0, frame = 0
 1073              		@ frame_needed = 0, uses_anonymous_args = 0
 1074              		@ link register save eliminated.
 442:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     switch (TxMailbox)
 1075              		.loc 1 442 5 view .LVU343
 1076 0000 0129     		cmp	r1, #1
 1077 0002 08D0     		beq	.L80
 1078 0004 0229     		cmp	r1, #2
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 29


 1079 0006 0BD0     		beq	.L81
 1080 0008 01B1     		cbz	r1, .L83
 1081              	.L79:
 443:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 444:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_TX_MAILBIX_0:
 445:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.ABREQFLG0 = BIT_SET;
 446:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 447:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_TX_MAILBIX_1:
 448:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.ABREQFLG1 = BIT_SET;
 449:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 450:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_TX_MAILBIX_2:
 451:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.ABREQFLG2 = BIT_SET;
 452:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 453:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     default:
 454:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 455:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 456:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1082              		.loc 1 456 1 is_stmt 0 view .LVU344
 1083 000a 7047     		bx	lr
 1084              	.L83:
 445:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1085              		.loc 1 445 9 is_stmt 1 view .LVU345
 445:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1086              		.loc 1 445 32 is_stmt 0 view .LVU346
 1087 000c 8368     		ldr	r3, [r0, #8]
 1088 000e 43F08003 		orr	r3, r3, #128
 1089 0012 8360     		str	r3, [r0, #8]
 446:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_TX_MAILBIX_1:
 1090              		.loc 1 446 9 is_stmt 1 view .LVU347
 1091 0014 7047     		bx	lr
 1092              	.L80:
 448:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1093              		.loc 1 448 9 view .LVU348
 448:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1094              		.loc 1 448 32 is_stmt 0 view .LVU349
 1095 0016 8368     		ldr	r3, [r0, #8]
 1096 0018 43F40043 		orr	r3, r3, #32768
 1097 001c 8360     		str	r3, [r0, #8]
 449:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_TX_MAILBIX_2:
 1098              		.loc 1 449 9 is_stmt 1 view .LVU350
 1099 001e 7047     		bx	lr
 1100              	.L81:
 451:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1101              		.loc 1 451 9 view .LVU351
 451:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 1102              		.loc 1 451 32 is_stmt 0 view .LVU352
 1103 0020 8368     		ldr	r3, [r0, #8]
 1104 0022 43F40003 		orr	r3, r3, #8388608
 1105 0026 8360     		str	r3, [r0, #8]
 452:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     default:
 1106              		.loc 1 452 9 is_stmt 1 view .LVU353
 1107              		.loc 1 456 1 is_stmt 0 view .LVU354
 1108 0028 EFE7     		b	.L79
 1109              		.cfi_endproc
 1110              	.LFE74:
 1112              		.section	.text.CAN_RxMessage,"ax",%progbits
 1113              		.align	1
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 30


 1114              		.global	CAN_RxMessage
 1115              		.syntax unified
 1116              		.thumb
 1117              		.thumb_func
 1119              	CAN_RxMessage:
 1120              	.LVL69:
 1121              	.LFB75:
 457:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 458:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 459:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Receives a message and save to a CAN_RxMessage_T structure.
 460:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 461:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 462:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 463:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     FIFONumber: Receive FIFO number.
 464:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        This parameter can be one of the following values:
 465:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_0 : Receive FIFO 0
 466:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_1 : Receive FIFO 1
 467:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 468:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     RxMessage: pointer to a structure to receive the message.
 469:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 470:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 471:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 472:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 473:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 474:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_RxMessage(CAN_T* can, CAN_RX_FIFO_T FIFONumber, CAN_RxMessage_T* RxMessage)
 475:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1122              		.loc 1 475 1 is_stmt 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		.loc 1 475 1 is_stmt 0 view .LVU356
 1127 0000 10B5     		push	{r4, lr}
 1128              	.LCFI5:
 1129              		.cfi_def_cfa_offset 8
 1130              		.cfi_offset 4, -8
 1131              		.cfi_offset 14, -4
 476:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Get the Id */
 477:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->typeID = ((uint8_t)0x04 & (can->sRxMailBox[FIFONumber].RXMID));
 1132              		.loc 1 477 5 is_stmt 1 view .LVU357
 1133              		.loc 1 477 70 is_stmt 0 view .LVU358
 1134 0002 01F11B03 		add	r3, r1, #27
 1135 0006 1B01     		lsls	r3, r3, #4
 1136 0008 C358     		ldr	r3, [r0, r3]
 1137              		.loc 1 477 40 view .LVU359
 1138 000a 03F00403 		and	r3, r3, #4
 1139              		.loc 1 477 23 view .LVU360
 1140 000e 9360     		str	r3, [r2, #8]
 478:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(RxMessage->typeID == CAN_TYPEID_STD)
 1141              		.loc 1 478 5 is_stmt 1 view .LVU361
 1142              		.loc 1 478 7 is_stmt 0 view .LVU362
 1143 0010 002B     		cmp	r3, #0
 1144 0012 45D1     		bne	.L85
 479:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 480:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RxMessage->stdID = (can->sRxMailBox[FIFONumber].RXMID >> 21) & 0x000007FF;
 1145              		.loc 1 480 9 is_stmt 1 view .LVU363
 1146              		.loc 1 480 56 is_stmt 0 view .LVU364
 1147 0014 01F11B03 		add	r3, r1, #27
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 31


 1148 0018 1B01     		lsls	r3, r3, #4
 1149 001a C358     		ldr	r3, [r0, r3]
 1150              		.loc 1 480 63 view .LVU365
 1151 001c 5B0D     		lsrs	r3, r3, #21
 1152              		.loc 1 480 26 view .LVU366
 1153 001e 1360     		str	r3, [r2]
 1154              	.L86:
 481:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 482:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 483:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 484:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         RxMessage->extID = (can->sRxMailBox[FIFONumber].RXMID >> 3) & 0x1FFFFFFF;
 485:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 486:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 487:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->remoteTxReq = can->sRxMailBox[FIFONumber].RXMID_B.RFTXREQ;
 1155              		.loc 1 487 5 is_stmt 1 view .LVU367
 1156              		.loc 1 487 65 is_stmt 0 view .LVU368
 1157 0020 01F11B03 		add	r3, r1, #27
 1158 0024 1C01     		lsls	r4, r3, #4
 1159 0026 00EB0313 		add	r3, r0, r3, lsl #4
 1160 002a 0459     		ldr	r4, [r0, r4]
 1161 002c C4F34004 		ubfx	r4, r4, #1, #1
 1162              		.loc 1 487 28 view .LVU369
 1163 0030 D460     		str	r4, [r2, #12]
 488:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->dataLengthCode = can->sRxMailBox[FIFONumber].RXDLEN_B.DLCODE;
 1164              		.loc 1 488 5 is_stmt 1 view .LVU370
 1165              		.loc 1 488 69 is_stmt 0 view .LVU371
 1166 0032 5C68     		ldr	r4, [r3, #4]
 1167 0034 C4F30304 		ubfx	r4, r4, #0, #4
 1168              		.loc 1 488 31 view .LVU372
 1169 0038 1474     		strb	r4, [r2, #16]
 489:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->filterMatchIndex = can->sRxMailBox[FIFONumber].RXDLEN_B.FMIDX;
 1170              		.loc 1 489 5 is_stmt 1 view .LVU373
 1171              		.loc 1 489 71 is_stmt 0 view .LVU374
 1172 003a 5B68     		ldr	r3, [r3, #4]
 1173 003c C3F30723 		ubfx	r3, r3, #8, #8
 1174              		.loc 1 489 33 view .LVU375
 1175 0040 5376     		strb	r3, [r2, #25]
 490:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** Get the data field */
 491:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[0] = can->sRxMailBox[FIFONumber].RXMDL_B.DATABYTE0;
 1176              		.loc 1 491 5 is_stmt 1 view .LVU376
 1177              		.loc 1 491 61 is_stmt 0 view .LVU377
 1178 0042 00EB0113 		add	r3, r0, r1, lsl #4
 1179 0046 03F5DC7C 		add	ip, r3, #440
 1180 004a D3F8B841 		ldr	r4, [r3, #440]
 1181              		.loc 1 491 24 view .LVU378
 1182 004e 5474     		strb	r4, [r2, #17]
 492:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[1] = can->sRxMailBox[FIFONumber].RXMDL_B.DATABYTE1;
 1183              		.loc 1 492 5 is_stmt 1 view .LVU379
 1184              		.loc 1 492 61 is_stmt 0 view .LVU380
 1185 0050 D3F8B841 		ldr	r4, [r3, #440]
 1186 0054 C4F30724 		ubfx	r4, r4, #8, #8
 1187              		.loc 1 492 24 view .LVU381
 1188 0058 9474     		strb	r4, [r2, #18]
 493:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[2] = can->sRxMailBox[FIFONumber].RXMDL_B.DATABYTE2;
 1189              		.loc 1 493 5 is_stmt 1 view .LVU382
 1190              		.loc 1 493 61 is_stmt 0 view .LVU383
 1191 005a D3F8B841 		ldr	r4, [r3, #440]
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 32


 1192 005e C4F3074E 		ubfx	lr, r4, #16, #8
 1193              		.loc 1 493 24 view .LVU384
 1194 0062 82F813E0 		strb	lr, [r2, #19]
 494:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[3] = can->sRxMailBox[FIFONumber].RXMDL_B.DATABYTE3;
 1195              		.loc 1 494 5 is_stmt 1 view .LVU385
 1196              		.loc 1 494 61 is_stmt 0 view .LVU386
 1197 0066 D3F8B831 		ldr	r3, [r3, #440]
 1198 006a C3F30763 		ubfx	r3, r3, #24, #8
 1199              		.loc 1 494 24 view .LVU387
 1200 006e 1375     		strb	r3, [r2, #20]
 495:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[4] = can->sRxMailBox[FIFONumber].RXMDH_B.DATABYTE4;
 1201              		.loc 1 495 5 is_stmt 1 view .LVU388
 1202              		.loc 1 495 61 is_stmt 0 view .LVU389
 1203 0070 DCF80430 		ldr	r3, [ip, #4]
 1204              		.loc 1 495 24 view .LVU390
 1205 0074 5375     		strb	r3, [r2, #21]
 496:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[5] = can->sRxMailBox[FIFONumber].RXMDH_B.DATABYTE5;
 1206              		.loc 1 496 5 is_stmt 1 view .LVU391
 1207              		.loc 1 496 61 is_stmt 0 view .LVU392
 1208 0076 DCF80430 		ldr	r3, [ip, #4]
 1209 007a C3F30723 		ubfx	r3, r3, #8, #8
 1210              		.loc 1 496 24 view .LVU393
 1211 007e 9375     		strb	r3, [r2, #22]
 497:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[6] = can->sRxMailBox[FIFONumber].RXMDH_B.DATABYTE6;
 1212              		.loc 1 497 5 is_stmt 1 view .LVU394
 1213              		.loc 1 497 61 is_stmt 0 view .LVU395
 1214 0080 DCF80430 		ldr	r3, [ip, #4]
 1215 0084 C3F30743 		ubfx	r3, r3, #16, #8
 1216              		.loc 1 497 24 view .LVU396
 1217 0088 D375     		strb	r3, [r2, #23]
 498:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     RxMessage->data[7] = can->sRxMailBox[FIFONumber].RXMDH_B.DATABYTE7;
 1218              		.loc 1 498 5 is_stmt 1 view .LVU397
 1219              		.loc 1 498 61 is_stmt 0 view .LVU398
 1220 008a DCF80430 		ldr	r3, [ip, #4]
 1221 008e C3F30763 		ubfx	r3, r3, #24, #8
 1222              		.loc 1 498 24 view .LVU399
 1223 0092 1376     		strb	r3, [r2, #24]
 499:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 500:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(FIFONumber == CAN_RX_FIFO_0)
 1224              		.loc 1 500 5 is_stmt 1 view .LVU400
 1225              		.loc 1 500 7 is_stmt 0 view .LVU401
 1226 0094 59B9     		cbnz	r1, .L87
 501:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 502:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF0_B.RFOM0 = BIT_SET;
 1227              		.loc 1 502 9 is_stmt 1 view .LVU402
 1228              		.loc 1 502 27 is_stmt 0 view .LVU403
 1229 0096 C368     		ldr	r3, [r0, #12]
 1230 0098 43F02003 		orr	r3, r3, #32
 1231 009c C360     		str	r3, [r0, #12]
 1232              	.L84:
 503:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 504:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 505:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 506:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF1_B.RFOM1 = BIT_SET;
 507:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 508:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1233              		.loc 1 508 1 view .LVU404
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 33


 1234 009e 10BD     		pop	{r4, pc}
 1235              	.L85:
 484:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1236              		.loc 1 484 9 is_stmt 1 view .LVU405
 484:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1237              		.loc 1 484 56 is_stmt 0 view .LVU406
 1238 00a0 01F11B03 		add	r3, r1, #27
 1239 00a4 1B01     		lsls	r3, r3, #4
 1240 00a6 C358     		ldr	r3, [r0, r3]
 484:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1241              		.loc 1 484 63 view .LVU407
 1242 00a8 DB08     		lsrs	r3, r3, #3
 484:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1243              		.loc 1 484 26 view .LVU408
 1244 00aa 5360     		str	r3, [r2, #4]
 1245 00ac B8E7     		b	.L86
 1246              	.L87:
 506:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1247              		.loc 1 506 9 is_stmt 1 view .LVU409
 506:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1248              		.loc 1 506 27 is_stmt 0 view .LVU410
 1249 00ae 0369     		ldr	r3, [r0, #16]
 1250 00b0 43F02003 		orr	r3, r3, #32
 1251 00b4 0361     		str	r3, [r0, #16]
 1252              		.loc 1 508 1 view .LVU411
 1253 00b6 F2E7     		b	.L84
 1254              		.cfi_endproc
 1255              	.LFE75:
 1257              		.section	.text.CAN_ReleaseFIFO,"ax",%progbits
 1258              		.align	1
 1259              		.global	CAN_ReleaseFIFO
 1260              		.syntax unified
 1261              		.thumb
 1262              		.thumb_func
 1264              	CAN_ReleaseFIFO:
 1265              	.LVL70:
 1266              	.LFB76:
 509:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 510:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 511:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Releases the specified FIFO.
 512:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 513:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 514:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 515:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     FIFONumber: Receive FIFO number
 516:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        This parameter can be one of the following values:
 517:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_0 : Receive FIFO 0
 518:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_1 : Receive FIFO 1
 519:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 520:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 521:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 522:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 523:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 524:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_ReleaseFIFO(CAN_T* can, CAN_RX_FIFO_T FIFONumber)
 525:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1267              		.loc 1 525 1 is_stmt 1 view -0
 1268              		.cfi_startproc
 1269              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 34


 1270              		@ frame_needed = 0, uses_anonymous_args = 0
 1271              		@ link register save eliminated.
 526:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(FIFONumber == CAN_RX_FIFO_0)
 1272              		.loc 1 526 5 view .LVU413
 1273              		.loc 1 526 7 is_stmt 0 view .LVU414
 1274 0000 21B9     		cbnz	r1, .L91
 527:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 528:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF0_B.RFOM0 = BIT_SET;
 1275              		.loc 1 528 9 is_stmt 1 view .LVU415
 1276              		.loc 1 528 27 is_stmt 0 view .LVU416
 1277 0002 C368     		ldr	r3, [r0, #12]
 1278 0004 43F02003 		orr	r3, r3, #32
 1279 0008 C360     		str	r3, [r0, #12]
 1280 000a 7047     		bx	lr
 1281              	.L91:
 529:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 530:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 531:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 532:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF1_B.RFOM1 = BIT_SET;
 1282              		.loc 1 532 9 is_stmt 1 view .LVU417
 1283              		.loc 1 532 27 is_stmt 0 view .LVU418
 1284 000c 0369     		ldr	r3, [r0, #16]
 1285 000e 43F02003 		orr	r3, r3, #32
 1286 0012 0361     		str	r3, [r0, #16]
 533:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 534:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1287              		.loc 1 534 1 view .LVU419
 1288 0014 7047     		bx	lr
 1289              		.cfi_endproc
 1290              	.LFE76:
 1292              		.section	.text.CAN_PendingMessage,"ax",%progbits
 1293              		.align	1
 1294              		.global	CAN_PendingMessage
 1295              		.syntax unified
 1296              		.thumb
 1297              		.thumb_func
 1299              	CAN_PendingMessage:
 1300              	.LVL71:
 1301              	.LFB77:
 535:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 536:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 537:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Returns the number of pending messages.
 538:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 539:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 540:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 541:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     FIFONumber: Receive FIFO number
 542:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        This parameter can be one of the following values:
 543:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_0 : Receive FIFO 0
 544:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_RX_FIFO_1 : Receive FIFO 1
 545:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 546:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    The number of pending message.
 547:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 548:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 549:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 550:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_PendingMessage(CAN_T* can, CAN_RX_FIFO_T FIFONumber)
 551:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1302              		.loc 1 551 1 is_stmt 1 view -0
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 35


 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 0
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306              		@ link register save eliminated.
 552:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(FIFONumber == CAN_RX_FIFO_0)
 1307              		.loc 1 552 5 view .LVU421
 1308              		.loc 1 552 7 is_stmt 0 view .LVU422
 1309 0000 19B9     		cbnz	r1, .L94
 553:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 554:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         return  can->RXF0 & 0x03;
 1310              		.loc 1 554 9 is_stmt 1 view .LVU423
 1311              		.loc 1 554 20 is_stmt 0 view .LVU424
 1312 0002 C068     		ldr	r0, [r0, #12]
 1313              	.LVL72:
 1314              		.loc 1 554 27 view .LVU425
 1315 0004 00F00300 		and	r0, r0, #3
 1316 0008 7047     		bx	lr
 1317              	.LVL73:
 1318              	.L94:
 555:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 556:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 557:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 558:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         return  can->RXF1 & 0x03;
 1319              		.loc 1 558 9 is_stmt 1 view .LVU426
 1320              		.loc 1 558 20 is_stmt 0 view .LVU427
 1321 000a 0069     		ldr	r0, [r0, #16]
 1322              	.LVL74:
 1323              		.loc 1 558 27 view .LVU428
 1324 000c 00F00300 		and	r0, r0, #3
 559:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 560:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1325              		.loc 1 560 1 view .LVU429
 1326 0010 7047     		bx	lr
 1327              		.cfi_endproc
 1328              	.LFE77:
 1330              		.section	.text.CAN_OperatingMode,"ax",%progbits
 1331              		.align	1
 1332              		.global	CAN_OperatingMode
 1333              		.syntax unified
 1334              		.thumb
 1335              		.thumb_func
 1337              	CAN_OperatingMode:
 1338              	.LVL75:
 1339              	.LFB78:
 561:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 562:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 563:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Select the CAN Operation mode
 564:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 565:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 566:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 567:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     operatingMode: CAN Operating Mode
 568:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                           This parameter can be one of the following values:
 569:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                           @arg CAN_OPERATING_MODE_INIT  : Initialization mode
 570:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                           @arg CAN_OPERATING_MODE_NORMAL: Normal mode
 571:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                           @arg CAN_OPERATING_MODE_SLEEP : sleep mode
 572:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 573:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    modeState:status of the requested mode
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 36


 574:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                      0:CAN failed entering the specific mode
 575:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                      1:CAN Succeed entering the specific mode
 576:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 577:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 578:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 579:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_OperatingMode(CAN_T* can, CAN_OPERATING_MODE_T operatingMode)
 580:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1340              		.loc 1 580 1 is_stmt 1 view -0
 1341              		.cfi_startproc
 1342              		@ args = 0, pretend = 0, frame = 0
 1343              		@ frame_needed = 0, uses_anonymous_args = 0
 1344              		@ link register save eliminated.
 1345              		.loc 1 580 1 is_stmt 0 view .LVU431
 1346 0000 0346     		mov	r3, r0
 581:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t states = 0;
 1347              		.loc 1 581 5 is_stmt 1 view .LVU432
 1348              	.LVL76:
 582:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1349              		.loc 1 582 5 view .LVU433
 583:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 584:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(operatingMode == CAN_OPERATING_MODE_INIT)
 1350              		.loc 1 584 5 view .LVU434
 1351              		.loc 1 584 7 is_stmt 0 view .LVU435
 1352 0002 0846     		mov	r0, r1
 1353              	.LVL77:
 1354              		.loc 1 584 7 view .LVU436
 1355 0004 F9B9     		cbnz	r1, .L97
 585:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 586:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.SLEEPREQ = BIT_RESET;
 1356              		.loc 1 586 9 is_stmt 1 view .LVU437
 1357              		.loc 1 586 31 is_stmt 0 view .LVU438
 1358 0006 1A68     		ldr	r2, [r3]
 1359 0008 6FF34102 		bfc	r2, #1, #1
 1360 000c 1A60     		str	r2, [r3]
 587:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_SET;
 1361              		.loc 1 587 9 is_stmt 1 view .LVU439
 1362              		.loc 1 587 30 is_stmt 0 view .LVU440
 1363 000e 1A68     		ldr	r2, [r3]
 1364 0010 42F00102 		orr	r2, r2, #1
 1365 0014 1A60     		str	r2, [r3]
 588:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         while((can->MSTS_B.INITFLG != BIT_SET && can->MSTS_B.SLEEPFLG != BIT_RESET) && (time_out !=
 1366              		.loc 1 589 9 is_stmt 1 view .LVU441
 582:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1367              		.loc 1 582 14 is_stmt 0 view .LVU442
 1368 0016 4FF6FF72 		movw	r2, #65535
 1369              		.loc 1 589 14 view .LVU443
 1370 001a 00E0     		b	.L98
 1371              	.LVL78:
 1372              	.L100:
 590:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 591:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             time_out --;
 1373              		.loc 1 591 13 is_stmt 1 view .LVU444
 1374              		.loc 1 591 22 is_stmt 0 view .LVU445
 1375 001c 013A     		subs	r2, r2, #1
 1376              	.LVL79:
 1377              	.L98:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 37


 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1378              		.loc 1 589 14 is_stmt 1 view .LVU446
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1379              		.loc 1 589 27 is_stmt 0 view .LVU447
 1380 001e 5968     		ldr	r1, [r3, #4]
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1381              		.loc 1 589 14 view .LVU448
 1382 0020 11F0010F 		tst	r1, #1
 1383 0024 05D1     		bne	.L99
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1384              		.loc 1 589 61 discriminator 1 view .LVU449
 1385 0026 5968     		ldr	r1, [r3, #4]
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1386              		.loc 1 589 47 discriminator 1 view .LVU450
 1387 0028 11F0020F 		tst	r1, #2
 1388 002c 01D0     		beq	.L99
 589:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1389              		.loc 1 589 85 discriminator 2 view .LVU451
 1390 002e 002A     		cmp	r2, #0
 1391 0030 F4D1     		bne	.L100
 1392              	.L99:
 592:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 593:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->MSTS_B.INITFLG == BIT_SET && can->MSTS_B.SLEEPFLG == BIT_RESET))
 1393              		.loc 1 593 9 is_stmt 1 view .LVU452
 1394              		.loc 1 593 24 is_stmt 0 view .LVU453
 1395 0032 5A68     		ldr	r2, [r3, #4]
 1396              	.LVL80:
 1397              		.loc 1 593 11 view .LVU454
 1398 0034 12F0010F 		tst	r2, #1
 1399 0038 00D1     		bne	.L114
 1400              	.LVL81:
 1401              	.L101:
 594:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 595:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             states = 1;
 596:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 597:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 598:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if(operatingMode == CAN_OPERATING_MODE_NORMAL)
 599:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 600:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.SLEEPREQ = BIT_RESET;
 601:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 602:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 603:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         time_out = 0x0000FFFF;
 604:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         while((can->MSTS_B.INITFLG != BIT_RESET || can->MSTS_B.SLEEPFLG != BIT_RESET) && (time_out 
 606:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 607:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             time_out --;
 608:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->MSTS_B.INITFLG == BIT_RESET || can->MSTS_B.SLEEPFLG == BIT_RESET))
 610:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 611:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             states = 1;
 612:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 613:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 614:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if(operatingMode == CAN_OPERATING_MODE_SLEEP)
 615:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 616:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.SLEEPREQ = BIT_SET;
 617:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 618:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 38


 619:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         time_out = 0x0000FFFF;
 620:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         while((can->MSTS_B.INITFLG != BIT_RESET && can->MSTS_B.SLEEPFLG != BIT_SET) && (time_out !=
 622:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 623:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             time_out --;
 624:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->MSTS_B.INITFLG == BIT_RESET && can->MSTS_B.SLEEPFLG == BIT_SET))
 626:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 627:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             states = 1;
 628:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 629:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 630:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return states ;
 1402              		.loc 1 630 5 is_stmt 1 view .LVU455
 631:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1403              		.loc 1 631 1 is_stmt 0 view .LVU456
 1404 003a 7047     		bx	lr
 1405              	.LVL82:
 1406              	.L114:
 593:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1407              		.loc 1 593 58 discriminator 1 view .LVU457
 1408 003c 5B68     		ldr	r3, [r3, #4]
 1409              	.LVL83:
 593:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1410              		.loc 1 593 44 discriminator 1 view .LVU458
 1411 003e 13F0020F 		tst	r3, #2
 1412 0042 45D0     		beq	.L110
 1413 0044 7047     		bx	lr
 1414              	.LVL84:
 1415              	.L97:
 598:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 1416              		.loc 1 598 10 is_stmt 1 view .LVU459
 598:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 1417              		.loc 1 598 12 is_stmt 0 view .LVU460
 1418 0046 0129     		cmp	r1, #1
 1419 0048 03D0     		beq	.L115
 614:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 1420              		.loc 1 614 10 is_stmt 1 view .LVU461
 614:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 1421              		.loc 1 614 12 is_stmt 0 view .LVU462
 1422 004a 0229     		cmp	r1, #2
 1423 004c 20D0     		beq	.L116
 581:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1424              		.loc 1 581 13 view .LVU463
 1425 004e 0020     		movs	r0, #0
 1426 0050 7047     		bx	lr
 1427              	.L115:
 600:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 1428              		.loc 1 600 9 is_stmt 1 view .LVU464
 600:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 1429              		.loc 1 600 31 is_stmt 0 view .LVU465
 1430 0052 1A68     		ldr	r2, [r3]
 1431 0054 6FF34102 		bfc	r2, #1, #1
 1432 0058 1A60     		str	r2, [r3]
 601:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1433              		.loc 1 601 9 is_stmt 1 view .LVU466
 601:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1434              		.loc 1 601 30 is_stmt 0 view .LVU467
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 39


 1435 005a 1A68     		ldr	r2, [r3]
 1436 005c 6FF30002 		bfc	r2, #0, #1
 1437 0060 1A60     		str	r2, [r3]
 603:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1438              		.loc 1 603 9 is_stmt 1 view .LVU468
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1439              		.loc 1 605 9 view .LVU469
 603:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1440              		.loc 1 603 18 is_stmt 0 view .LVU470
 1441 0062 4FF6FF72 		movw	r2, #65535
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1442              		.loc 1 605 14 view .LVU471
 1443 0066 01E0     		b	.L103
 1444              	.LVL85:
 1445              	.L104:
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1446              		.loc 1 605 87 discriminator 3 view .LVU472
 1447 0068 42B1     		cbz	r2, .L105
 607:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1448              		.loc 1 607 13 is_stmt 1 view .LVU473
 607:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1449              		.loc 1 607 22 is_stmt 0 view .LVU474
 1450 006a 013A     		subs	r2, r2, #1
 1451              	.LVL86:
 1452              	.L103:
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1453              		.loc 1 605 14 is_stmt 1 view .LVU475
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1454              		.loc 1 605 27 is_stmt 0 view .LVU476
 1455 006c 5968     		ldr	r1, [r3, #4]
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1456              		.loc 1 605 14 view .LVU477
 1457 006e 11F0010F 		tst	r1, #1
 1458 0072 F9D1     		bne	.L104
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1459              		.loc 1 605 63 discriminator 2 view .LVU478
 1460 0074 5968     		ldr	r1, [r3, #4]
 605:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1461              		.loc 1 605 49 discriminator 2 view .LVU479
 1462 0076 11F0020F 		tst	r1, #2
 1463 007a F5D1     		bne	.L104
 1464              	.L105:
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1465              		.loc 1 609 9 is_stmt 1 view .LVU480
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1466              		.loc 1 609 24 is_stmt 0 view .LVU481
 1467 007c 5A68     		ldr	r2, [r3, #4]
 1468              	.LVL87:
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1469              		.loc 1 609 11 view .LVU482
 1470 007e 12F0010F 		tst	r2, #1
 1471 0082 DAD0     		beq	.L101
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1472              		.loc 1 609 60 discriminator 1 view .LVU483
 1473 0084 5B68     		ldr	r3, [r3, #4]
 1474              	.LVL88:
 609:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 40


 1475              		.loc 1 609 46 discriminator 1 view .LVU484
 1476 0086 13F0020F 		tst	r3, #2
 1477 008a D6D0     		beq	.L101
 581:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1478              		.loc 1 581 13 view .LVU485
 1479 008c 0020     		movs	r0, #0
 1480 008e 7047     		bx	lr
 1481              	.LVL89:
 1482              	.L116:
 616:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 1483              		.loc 1 616 9 is_stmt 1 view .LVU486
 616:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MCTRL_B.INITREQ = BIT_RESET;
 1484              		.loc 1 616 31 is_stmt 0 view .LVU487
 1485 0090 1A68     		ldr	r2, [r3]
 1486 0092 42F00202 		orr	r2, r2, #2
 1487 0096 1A60     		str	r2, [r3]
 617:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1488              		.loc 1 617 9 is_stmt 1 view .LVU488
 617:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1489              		.loc 1 617 30 is_stmt 0 view .LVU489
 1490 0098 1A68     		ldr	r2, [r3]
 1491 009a 6FF30002 		bfc	r2, #0, #1
 1492 009e 1A60     		str	r2, [r3]
 619:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1493              		.loc 1 619 9 is_stmt 1 view .LVU490
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1494              		.loc 1 621 9 view .LVU491
 619:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 1495              		.loc 1 619 18 is_stmt 0 view .LVU492
 1496 00a0 4FF6FF72 		movw	r2, #65535
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1497              		.loc 1 621 14 view .LVU493
 1498 00a4 00E0     		b	.L107
 1499              	.LVL90:
 1500              	.L109:
 623:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1501              		.loc 1 623 13 is_stmt 1 view .LVU494
 623:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1502              		.loc 1 623 22 is_stmt 0 view .LVU495
 1503 00a6 013A     		subs	r2, r2, #1
 1504              	.LVL91:
 1505              	.L107:
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1506              		.loc 1 621 14 is_stmt 1 view .LVU496
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1507              		.loc 1 621 27 is_stmt 0 view .LVU497
 1508 00a8 5968     		ldr	r1, [r3, #4]
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1509              		.loc 1 621 14 view .LVU498
 1510 00aa 11F0010F 		tst	r1, #1
 1511 00ae 05D0     		beq	.L108
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1512              		.loc 1 621 63 discriminator 1 view .LVU499
 1513 00b0 5968     		ldr	r1, [r3, #4]
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1514              		.loc 1 621 49 discriminator 1 view .LVU500
 1515 00b2 11F0020F 		tst	r1, #2
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 41


 1516 00b6 01D1     		bne	.L108
 621:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1517              		.loc 1 621 85 discriminator 2 view .LVU501
 1518 00b8 002A     		cmp	r2, #0
 1519 00ba F4D1     		bne	.L109
 1520              	.L108:
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1521              		.loc 1 625 9 is_stmt 1 view .LVU502
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1522              		.loc 1 625 24 is_stmt 0 view .LVU503
 1523 00bc 5A68     		ldr	r2, [r3, #4]
 1524              	.LVL92:
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1525              		.loc 1 625 11 view .LVU504
 1526 00be 12F0010F 		tst	r2, #1
 1527 00c2 07D1     		bne	.L112
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1528              		.loc 1 625 60 discriminator 1 view .LVU505
 1529 00c4 5B68     		ldr	r3, [r3, #4]
 1530              	.LVL93:
 625:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 1531              		.loc 1 625 46 discriminator 1 view .LVU506
 1532 00c6 13F0020F 		tst	r3, #2
 1533 00ca 05D1     		bne	.L113
 581:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1534              		.loc 1 581 13 view .LVU507
 1535 00cc 0020     		movs	r0, #0
 1536 00ce 7047     		bx	lr
 1537              	.L110:
 595:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1538              		.loc 1 595 20 view .LVU508
 1539 00d0 0120     		movs	r0, #1
 1540 00d2 7047     		bx	lr
 1541              	.LVL94:
 1542              	.L112:
 581:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1543              		.loc 1 581 13 view .LVU509
 1544 00d4 0020     		movs	r0, #0
 1545 00d6 7047     		bx	lr
 1546              	.LVL95:
 1547              	.L113:
 627:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1548              		.loc 1 627 20 view .LVU510
 1549 00d8 0120     		movs	r0, #1
 1550 00da AEE7     		b	.L101
 1551              		.cfi_endproc
 1552              	.LFE78:
 1554              		.section	.text.CAN_SleepMode,"ax",%progbits
 1555              		.align	1
 1556              		.global	CAN_SleepMode
 1557              		.syntax unified
 1558              		.thumb
 1559              		.thumb_func
 1561              	CAN_SleepMode:
 1562              	.LVL96:
 1563              	.LFB79:
 632:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 42


 633:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 634:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Into the low power mode.
 635:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 636:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 637:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 638:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    status: Status of entering sleep mode.
 639:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                    0: Enter sleep fail
 640:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                    1: Enter sleep success
 641:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 642:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 643:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 644:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_SleepMode(CAN_T* can)
 645:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1564              		.loc 1 645 1 is_stmt 1 view -0
 1565              		.cfi_startproc
 1566              		@ args = 0, pretend = 0, frame = 0
 1567              		@ frame_needed = 0, uses_anonymous_args = 0
 1568              		@ link register save eliminated.
 646:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.SLEEPREQ = BIT_SET;
 1569              		.loc 1 646 5 view .LVU512
 1570              		.loc 1 646 27 is_stmt 0 view .LVU513
 1571 0000 0368     		ldr	r3, [r0]
 1572 0002 43F00203 		orr	r3, r3, #2
 1573 0006 0360     		str	r3, [r0]
 647:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.INITREQ = BIT_RESET;
 1574              		.loc 1 647 5 is_stmt 1 view .LVU514
 1575              		.loc 1 647 26 is_stmt 0 view .LVU515
 1576 0008 0368     		ldr	r3, [r0]
 1577 000a 6FF30003 		bfc	r3, #0, #1
 1578 000e 0360     		str	r3, [r0]
 648:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 649:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if((can->MSTS_B.INITFLG == BIT_RESET && can->MSTS_B.SLEEPFLG == BIT_SET))
 1579              		.loc 1 649 5 is_stmt 1 view .LVU516
 1580              		.loc 1 649 20 is_stmt 0 view .LVU517
 1581 0010 4368     		ldr	r3, [r0, #4]
 1582              		.loc 1 649 7 view .LVU518
 1583 0012 13F0010F 		tst	r3, #1
 1584 0016 05D1     		bne	.L119
 1585              		.loc 1 649 56 discriminator 1 view .LVU519
 1586 0018 4368     		ldr	r3, [r0, #4]
 1587              		.loc 1 649 42 discriminator 1 view .LVU520
 1588 001a 13F0020F 		tst	r3, #2
 1589 001e 03D1     		bne	.L120
 650:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 651:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         return 1;
 652:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 653:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return 0;
 1590              		.loc 1 653 12 view .LVU521
 1591 0020 0020     		movs	r0, #0
 1592              	.LVL97:
 1593              		.loc 1 653 12 view .LVU522
 1594 0022 7047     		bx	lr
 1595              	.LVL98:
 1596              	.L119:
 1597              		.loc 1 653 12 view .LVU523
 1598 0024 0020     		movs	r0, #0
 1599              	.LVL99:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 43


 1600              		.loc 1 653 12 view .LVU524
 1601 0026 7047     		bx	lr
 1602              	.LVL100:
 1603              	.L120:
 651:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1604              		.loc 1 651 16 view .LVU525
 1605 0028 0120     		movs	r0, #1
 1606              	.LVL101:
 654:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1607              		.loc 1 654 1 view .LVU526
 1608 002a 7047     		bx	lr
 1609              		.cfi_endproc
 1610              	.LFE79:
 1612              		.section	.text.CAN_WakeUpMode,"ax",%progbits
 1613              		.align	1
 1614              		.global	CAN_WakeUpMode
 1615              		.syntax unified
 1616              		.thumb
 1617              		.thumb_func
 1619              	CAN_WakeUpMode:
 1620              	.LVL102:
 1621              	.LFB80:
 655:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 656:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 657:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Wakes the CAN up.
 658:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 659:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 660:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 661:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    status: Status of waking the CAN up
 662:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                    0: WakeUp CAN fail,
 663:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                    1: WakeUp CAN success
 664:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 665:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 666:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 667:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_WakeUpMode(CAN_T* can)
 668:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1622              		.loc 1 668 1 is_stmt 1 view -0
 1623              		.cfi_startproc
 1624              		@ args = 0, pretend = 0, frame = 0
 1625              		@ frame_needed = 0, uses_anonymous_args = 0
 1626              		@ link register save eliminated.
 669:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1627              		.loc 1 669 5 view .LVU528
 670:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 671:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->MCTRL_B.SLEEPREQ = BIT_RESET;
 1628              		.loc 1 671 5 view .LVU529
 1629              		.loc 1 671 27 is_stmt 0 view .LVU530
 1630 0000 0368     		ldr	r3, [r0]
 1631 0002 6FF34103 		bfc	r3, #1, #1
 1632 0006 0360     		str	r3, [r0]
 672:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     while((can->MSTS_B.SLEEPFLG != BIT_RESET) && (time_out != 0))
 1633              		.loc 1 672 5 is_stmt 1 view .LVU531
 669:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t time_out = 0x0000FFFF;
 1634              		.loc 1 669 14 is_stmt 0 view .LVU532
 1635 0008 4FF6FF73 		movw	r3, #65535
 1636              	.LVL103:
 1637              	.L122:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 44


 1638              		.loc 1 672 10 is_stmt 1 view .LVU533
 1639              		.loc 1 672 23 is_stmt 0 view .LVU534
 1640 000c 4268     		ldr	r2, [r0, #4]
 1641              		.loc 1 672 10 view .LVU535
 1642 000e 12F0020F 		tst	r2, #2
 1643 0012 02D0     		beq	.L123
 1644              		.loc 1 672 47 discriminator 1 view .LVU536
 1645 0014 0BB1     		cbz	r3, .L123
 673:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 674:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         time_out --;
 1646              		.loc 1 674 9 is_stmt 1 view .LVU537
 1647              		.loc 1 674 18 is_stmt 0 view .LVU538
 1648 0016 013B     		subs	r3, r3, #1
 1649              	.LVL104:
 1650              		.loc 1 674 18 view .LVU539
 1651 0018 F8E7     		b	.L122
 1652              	.L123:
 675:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 676:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(can->MSTS_B.SLEEPFLG == BIT_RESET)
 1653              		.loc 1 676 5 is_stmt 1 view .LVU540
 1654              		.loc 1 676 19 is_stmt 0 view .LVU541
 1655 001a 4368     		ldr	r3, [r0, #4]
 1656              	.LVL105:
 1657              		.loc 1 676 7 view .LVU542
 1658 001c 13F0020F 		tst	r3, #2
 1659 0020 01D0     		beq	.L126
 677:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 678:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         return 1;
 679:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 680:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return 0;
 1660              		.loc 1 680 12 view .LVU543
 1661 0022 0020     		movs	r0, #0
 1662              	.LVL106:
 1663              		.loc 1 680 12 view .LVU544
 1664 0024 7047     		bx	lr
 1665              	.LVL107:
 1666              	.L126:
 678:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1667              		.loc 1 678 16 view .LVU545
 1668 0026 0120     		movs	r0, #1
 1669              	.LVL108:
 681:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1670              		.loc 1 681 1 view .LVU546
 1671 0028 7047     		bx	lr
 1672              		.cfi_endproc
 1673              	.LFE80:
 1675              		.section	.text.CAN_ReadLastErrorCode,"ax",%progbits
 1676              		.align	1
 1677              		.global	CAN_ReadLastErrorCode
 1678              		.syntax unified
 1679              		.thumb
 1680              		.thumb_func
 1682              	CAN_ReadLastErrorCode:
 1683              	.LVL109:
 1684              	.LFB81:
 682:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 683:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 45


 684:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Read the can's last error code (LERRC)
 685:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 686:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 687:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 688:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    The Last Error Code.
 689:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 690:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 691:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 692:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_ReadLastErrorCode(CAN_T* can)
 693:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1685              		.loc 1 693 1 is_stmt 1 view -0
 1686              		.cfi_startproc
 1687              		@ args = 0, pretend = 0, frame = 0
 1688              		@ frame_needed = 0, uses_anonymous_args = 0
 1689              		@ link register save eliminated.
 694:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return can->ERRSTS_B.LERRC;
 1690              		.loc 1 694 5 view .LVU548
 1691              		.loc 1 694 25 is_stmt 0 view .LVU549
 1692 0000 8069     		ldr	r0, [r0, #24]
 1693              	.LVL110:
 695:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1694              		.loc 1 695 1 view .LVU550
 1695 0002 C0F30210 		ubfx	r0, r0, #4, #3
 1696 0006 7047     		bx	lr
 1697              		.cfi_endproc
 1698              	.LFE81:
 1700              		.section	.text.CAN_ReadRxErrorCounter,"ax",%progbits
 1701              		.align	1
 1702              		.global	CAN_ReadRxErrorCounter
 1703              		.syntax unified
 1704              		.thumb
 1705              		.thumb_func
 1707              	CAN_ReadRxErrorCounter:
 1708              	.LVL111:
 1709              	.LFB82:
 696:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 697:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 698:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Read the can Receive Error Counter(RXERRCNT)
 699:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 700:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 701:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 702:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    CAN Receive Error Counter.
 703:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 704:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 705:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 706:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_ReadRxErrorCounter(CAN_T* can)
 707:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1710              		.loc 1 707 1 is_stmt 1 view -0
 1711              		.cfi_startproc
 1712              		@ args = 0, pretend = 0, frame = 0
 1713              		@ frame_needed = 0, uses_anonymous_args = 0
 1714              		@ link register save eliminated.
 708:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return can->ERRSTS_B.RXERRCNT;
 1715              		.loc 1 708 5 view .LVU552
 1716              		.loc 1 708 25 is_stmt 0 view .LVU553
 1717 0000 8069     		ldr	r0, [r0, #24]
 1718              	.LVL112:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 46


 709:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1719              		.loc 1 709 1 view .LVU554
 1720 0002 000E     		lsrs	r0, r0, #24
 1721 0004 7047     		bx	lr
 1722              		.cfi_endproc
 1723              	.LFE82:
 1725              		.section	.text.CAN_ReadLSBTxErrorCounter,"ax",%progbits
 1726              		.align	1
 1727              		.global	CAN_ReadLSBTxErrorCounter
 1728              		.syntax unified
 1729              		.thumb
 1730              		.thumb_func
 1732              	CAN_ReadLSBTxErrorCounter:
 1733              	.LVL113:
 1734              	.LFB83:
 710:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 711:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 712:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Read the LSB of the 9-bit can Transmit Error Counter(TXERRCNT).
 713:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 714:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 715:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 716:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    Least Significant Byte Of The 9-Bit Transmit Error Counter.
 717:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 718:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 719:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 720:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_ReadLSBTxErrorCounter(CAN_T* can)
 721:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1735              		.loc 1 721 1 is_stmt 1 view -0
 1736              		.cfi_startproc
 1737              		@ args = 0, pretend = 0, frame = 0
 1738              		@ frame_needed = 0, uses_anonymous_args = 0
 1739              		@ link register save eliminated.
 722:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return can->ERRSTS_B.TXERRCNT;
 1740              		.loc 1 722 5 view .LVU556
 1741              		.loc 1 722 25 is_stmt 0 view .LVU557
 1742 0000 8069     		ldr	r0, [r0, #24]
 1743              	.LVL114:
 723:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1744              		.loc 1 723 1 view .LVU558
 1745 0002 C0F30740 		ubfx	r0, r0, #16, #8
 1746 0006 7047     		bx	lr
 1747              		.cfi_endproc
 1748              	.LFE83:
 1750              		.section	.text.CAN_EnableInterrupt,"ax",%progbits
 1751              		.align	1
 1752              		.global	CAN_EnableInterrupt
 1753              		.syntax unified
 1754              		.thumb
 1755              		.thumb_func
 1757              	CAN_EnableInterrupt:
 1758              	.LVL115:
 1759              	.LFB84:
 724:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 725:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 726:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Enables the specified can interrupts.
 727:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 728:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 47


 729:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 730:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     interrupts: specifies the CAN interrupt sources
 731:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        This parameter can be any combination of the following values:
 732:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_TXME   : Transmit mailbox empty Interrupt
 733:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0MP   : FIFO 0 message pending Interrupt
 734:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0FULL : FIFO 0 full Interrupt
 735:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0OVR  : FIFO 0 overrun Interrupt
 736:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1MP   : FIFO 1 message pending Interrupt
 737:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1FULL : FIFO 1 full Interrupt
 738:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1OVR  : FIFO 1 overrun Interrupt
 739:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERRW   : Error warning Interrupt
 740:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERRP   : Error passive Interrupt
 741:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_BOF    : Bus-off Interrupt
 742:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_LEC    : Last error record code Interrupt
 743:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERR    : Error Interrupt
 744:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_WUP    : Wake-up Interrupt
 745:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_SLEEP  : Sleep acknowledge Interrupt
 746:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 747:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 748:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 749:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 750:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 751:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_EnableInterrupt(CAN_T* can, uint32_t interrupts)
 752:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1760              		.loc 1 752 1 is_stmt 1 view -0
 1761              		.cfi_startproc
 1762              		@ args = 0, pretend = 0, frame = 0
 1763              		@ frame_needed = 0, uses_anonymous_args = 0
 1764              		@ link register save eliminated.
 753:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->INTEN |= interrupts;
 1765              		.loc 1 753 5 view .LVU560
 1766              		.loc 1 753 16 is_stmt 0 view .LVU561
 1767 0000 4369     		ldr	r3, [r0, #20]
 1768 0002 0B43     		orrs	r3, r3, r1
 1769 0004 4361     		str	r3, [r0, #20]
 754:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1770              		.loc 1 754 1 view .LVU562
 1771 0006 7047     		bx	lr
 1772              		.cfi_endproc
 1773              	.LFE84:
 1775              		.section	.text.CAN_DisableInterrupt,"ax",%progbits
 1776              		.align	1
 1777              		.global	CAN_DisableInterrupt
 1778              		.syntax unified
 1779              		.thumb
 1780              		.thumb_func
 1782              	CAN_DisableInterrupt:
 1783              	.LVL116:
 1784              	.LFB85:
 755:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 756:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 757:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Disable the specified can interrupts.
 758:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 759:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 760:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 761:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     interrupts: specifies the CAN interrupt sources
 762:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        This parameter can be any combination of the following values:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 48


 763:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_TXME   : Transmit mailbox empty Interrupt
 764:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0MP   : FIFO 0 message pending Interrupt
 765:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0FULL : FIFO 0 full Interrupt
 766:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F0OVR  : FIFO 0 overrun Interrupt
 767:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1MP   : FIFO 1 message pending Interrupt
 768:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1FULL : FIFO 1 full Interrupt
 769:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_F1OVR  : FIFO 1 overrun Interrupt
 770:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERRW   : Error warning Interrupt
 771:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERRP   : Error passive Interrupt
 772:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_BOF    : Bus-off Interrupt
 773:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_LEC    : Last error record code Interrupt
 774:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_ERR    : Error Interrupt
 775:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_WUP    : Wake-up Interrupt
 776:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                        @arg CAN_INT_SLEEP  : Sleep acknowledge Interrupt
 777:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 778:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 779:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 780:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 781:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 782:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_DisableInterrupt(CAN_T* can, uint32_t interrupts)
 783:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1785              		.loc 1 783 1 is_stmt 1 view -0
 1786              		.cfi_startproc
 1787              		@ args = 0, pretend = 0, frame = 0
 1788              		@ frame_needed = 0, uses_anonymous_args = 0
 1789              		@ link register save eliminated.
 784:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     can->INTEN &= ~interrupts;
 1790              		.loc 1 784 5 view .LVU564
 1791              		.loc 1 784 16 is_stmt 0 view .LVU565
 1792 0000 4369     		ldr	r3, [r0, #20]
 1793 0002 23EA0103 		bic	r3, r3, r1
 1794 0006 4361     		str	r3, [r0, #20]
 785:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1795              		.loc 1 785 1 view .LVU566
 1796 0008 7047     		bx	lr
 1797              		.cfi_endproc
 1798              	.LFE85:
 1800              		.section	.text.CAN_ReadStatusFlag,"ax",%progbits
 1801              		.align	1
 1802              		.global	CAN_ReadStatusFlag
 1803              		.syntax unified
 1804              		.thumb
 1805              		.thumb_func
 1807              	CAN_ReadStatusFlag:
 1808              	.LVL117:
 1809              	.LFB86:
 786:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 787:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 788:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Read whether the specified CAN flag is set or not.
 789:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 790:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 791:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 792:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     flag: specifies the CAN flag.
 793:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  This parameter can be one of the following values:
 794:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_ERRW   : Error Warning Flag
 795:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_ERRP   : Error Passive Flag
 796:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_BOF    : Bus-Off Flag
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 49


 797:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_LERRC  : Last error record code Flag
 798:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_WUPI   : Wake up Flag
 799:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_SLEEP  : Sleep acknowledge Flag
 800:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F0MP   : FIFO 0 Message Pending Flag
 801:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F0FULL : FIFO 0 Full Flag
 802:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F0OVR  : FIFO 0 Overrun Flag
 803:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F1MP   : FIFO 1 Message Pending Flag
 804:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F1FULL : FIFO 1 Full Flag
 805:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F1OVR  : FIFO 1 Overrun Flag
 806:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC0  : Request MailBox0 Flag
 807:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC1  : Request MailBox1 Flag
 808:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC2  : Request MailBox2 Flag
 809:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 810:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    flag staus:  RESET or SET
 811:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 812:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 813:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 814:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_ReadStatusFlag(CAN_T* can, CAN_FLAG_T flag)
 815:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1810              		.loc 1 815 1 is_stmt 1 view -0
 1811              		.cfi_startproc
 1812              		@ args = 0, pretend = 0, frame = 0
 1813              		@ frame_needed = 0, uses_anonymous_args = 0
 1814              		@ link register save eliminated.
 816:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t status = 0;
 1815              		.loc 1 816 5 view .LVU568
 817:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 818:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if((flag & 0x00F00000) != RESET )
 1816              		.loc 1 818 5 view .LVU569
 1817              		.loc 1 818 7 is_stmt 0 view .LVU570
 1818 0000 11F4700F 		tst	r1, #15728640
 1819 0004 06D0     		beq	.L133
 819:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 820:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->ERRSTS & (flag & 0x000FFFFF)) != RESET)
 1820              		.loc 1 820 9 is_stmt 1 view .LVU571
 1821              		.loc 1 820 16 is_stmt 0 view .LVU572
 1822 0006 8369     		ldr	r3, [r0, #24]
 1823              		.loc 1 820 25 view .LVU573
 1824 0008 1940     		ands	r1, r1, r3
 1825              	.LVL118:
 1826              		.loc 1 820 25 view .LVU574
 1827 000a C1F31301 		ubfx	r1, r1, #0, #20
 1828              		.loc 1 820 11 view .LVU575
 1829 000e 31B3     		cbz	r1, .L138
 821:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 822:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = SET;
 1830              		.loc 1 822 20 view .LVU576
 1831 0010 0120     		movs	r0, #1
 1832              	.LVL119:
 1833              		.loc 1 822 20 view .LVU577
 1834 0012 7047     		bx	lr
 1835              	.LVL120:
 1836              	.L133:
 823:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 824:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 825:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 826:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET;
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 50


 827:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 828:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 829:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if((flag & 0x01000000) != RESET )
 1837              		.loc 1 829 10 is_stmt 1 view .LVU578
 1838              		.loc 1 829 12 is_stmt 0 view .LVU579
 1839 0014 11F0807F 		tst	r1, #16777216
 1840 0018 06D0     		beq	.L135
 830:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 831:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->MSTS & (flag & 0x000FFFFF)) != RESET )
 1841              		.loc 1 831 9 is_stmt 1 view .LVU580
 1842              		.loc 1 831 16 is_stmt 0 view .LVU581
 1843 001a 4368     		ldr	r3, [r0, #4]
 1844              		.loc 1 831 23 view .LVU582
 1845 001c 1940     		ands	r1, r1, r3
 1846              	.LVL121:
 1847              		.loc 1 831 23 view .LVU583
 1848 001e C1F31301 		ubfx	r1, r1, #0, #20
 1849              		.loc 1 831 11 view .LVU584
 1850 0022 F1B1     		cbz	r1, .L139
 832:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 833:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = SET;
 1851              		.loc 1 833 20 view .LVU585
 1852 0024 0120     		movs	r0, #1
 1853              	.LVL122:
 1854              		.loc 1 833 20 view .LVU586
 1855 0026 7047     		bx	lr
 1856              	.LVL123:
 1857              	.L135:
 834:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 835:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 836:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 837:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET ;
 838:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 839:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 840:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if((flag & 0x08000000) != RESET )
 1858              		.loc 1 840 10 is_stmt 1 view .LVU587
 1859              		.loc 1 840 12 is_stmt 0 view .LVU588
 1860 0028 11F0006F 		tst	r1, #134217728
 1861 002c 06D0     		beq	.L136
 841:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 842:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->TXSTS & (flag & 0x000FFFFF)) != RESET )
 1862              		.loc 1 842 9 is_stmt 1 view .LVU589
 1863              		.loc 1 842 16 is_stmt 0 view .LVU590
 1864 002e 8368     		ldr	r3, [r0, #8]
 1865              		.loc 1 842 24 view .LVU591
 1866 0030 1940     		ands	r1, r1, r3
 1867              	.LVL124:
 1868              		.loc 1 842 24 view .LVU592
 1869 0032 C1F31301 		ubfx	r1, r1, #0, #20
 1870              		.loc 1 842 11 view .LVU593
 1871 0036 B1B1     		cbz	r1, .L140
 843:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 844:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = SET;
 1872              		.loc 1 844 20 view .LVU594
 1873 0038 0120     		movs	r0, #1
 1874              	.LVL125:
 1875              		.loc 1 844 20 view .LVU595
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 51


 1876 003a 7047     		bx	lr
 1877              	.LVL126:
 1878              	.L136:
 845:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 846:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 847:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 848:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET;
 849:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 850:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 851:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else if((flag & 0x02000000) != RESET )
 1879              		.loc 1 851 10 is_stmt 1 view .LVU596
 1880              		.loc 1 851 12 is_stmt 0 view .LVU597
 1881 003c 11F0007F 		tst	r1, #33554432
 1882 0040 06D0     		beq	.L137
 852:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 853:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->RXF0 & (flag & 0x000FFFFF)) != RESET )
 1883              		.loc 1 853 9 is_stmt 1 view .LVU598
 1884              		.loc 1 853 16 is_stmt 0 view .LVU599
 1885 0042 C368     		ldr	r3, [r0, #12]
 1886              		.loc 1 853 23 view .LVU600
 1887 0044 1940     		ands	r1, r1, r3
 1888              	.LVL127:
 1889              		.loc 1 853 23 view .LVU601
 1890 0046 C1F31301 		ubfx	r1, r1, #0, #20
 1891              		.loc 1 853 11 view .LVU602
 1892 004a 71B1     		cbz	r1, .L141
 854:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 855:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = SET;
 1893              		.loc 1 855 20 view .LVU603
 1894 004c 0120     		movs	r0, #1
 1895              	.LVL128:
 1896              		.loc 1 855 20 view .LVU604
 1897 004e 7047     		bx	lr
 1898              	.LVL129:
 1899              	.L137:
 856:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 857:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 858:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 859:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET;
 860:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 861:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 862:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 863:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 864:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((can->RXF1 & (flag & 0x000FFFFF)) != RESET)
 1900              		.loc 1 864 9 is_stmt 1 view .LVU605
 1901              		.loc 1 864 16 is_stmt 0 view .LVU606
 1902 0050 0369     		ldr	r3, [r0, #16]
 1903              		.loc 1 864 23 view .LVU607
 1904 0052 1940     		ands	r1, r1, r3
 1905              	.LVL130:
 1906              		.loc 1 864 23 view .LVU608
 1907 0054 C1F31301 		ubfx	r1, r1, #0, #20
 1908              		.loc 1 864 11 view .LVU609
 1909 0058 49B1     		cbz	r1, .L142
 865:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 866:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = SET;
 1910              		.loc 1 866 20 view .LVU610
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 52


 1911 005a 0120     		movs	r0, #1
 1912              	.LVL131:
 1913              		.loc 1 866 20 view .LVU611
 1914 005c 7047     		bx	lr
 1915              	.LVL132:
 1916              	.L138:
 826:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1917              		.loc 1 826 20 view .LVU612
 1918 005e 0020     		movs	r0, #0
 1919              	.LVL133:
 826:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1920              		.loc 1 826 20 view .LVU613
 1921 0060 7047     		bx	lr
 1922              	.LVL134:
 1923              	.L139:
 837:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1924              		.loc 1 837 20 view .LVU614
 1925 0062 0020     		movs	r0, #0
 1926              	.LVL135:
 837:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1927              		.loc 1 837 20 view .LVU615
 1928 0064 7047     		bx	lr
 1929              	.LVL136:
 1930              	.L140:
 848:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1931              		.loc 1 848 20 view .LVU616
 1932 0066 0020     		movs	r0, #0
 1933              	.LVL137:
 848:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1934              		.loc 1 848 20 view .LVU617
 1935 0068 7047     		bx	lr
 1936              	.LVL138:
 1937              	.L141:
 859:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1938              		.loc 1 859 20 view .LVU618
 1939 006a 0020     		movs	r0, #0
 1940              	.LVL139:
 859:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 1941              		.loc 1 859 20 view .LVU619
 1942 006c 7047     		bx	lr
 1943              	.LVL140:
 1944              	.L142:
 867:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 868:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 869:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 870:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET;
 1945              		.loc 1 870 20 view .LVU620
 1946 006e 0020     		movs	r0, #0
 1947              	.LVL141:
 871:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 872:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 873:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return status;
 1948              		.loc 1 873 5 is_stmt 1 view .LVU621
 874:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 1949              		.loc 1 874 1 is_stmt 0 view .LVU622
 1950 0070 7047     		bx	lr
 1951              		.cfi_endproc
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 53


 1952              	.LFE86:
 1954              		.section	.text.CAN_ClearStatusFlag,"ax",%progbits
 1955              		.align	1
 1956              		.global	CAN_ClearStatusFlag
 1957              		.syntax unified
 1958              		.thumb
 1959              		.thumb_func
 1961              	CAN_ClearStatusFlag:
 1962              	.LVL142:
 1963              	.LFB87:
 875:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 876:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 877:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Clears the CAN's pending flags.
 878:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 879:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 880:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 881:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     flag: specifies the CAN flag.
 882:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  This parameter can be one of the following values:
 883:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_LERRC : Last error record code Flag
 884:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_WUPI  : Wake up Flag
 885:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_SLEEP : Sleep acknowledge Flag
 886:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F0FULL: FIFO 0 Full Flag
 887:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F0OVR : FIFO 0 Overrun Flag
 888:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F1FULL: FIFO 1 Full Flag
 889:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_F1OVR : FIFO 1 Overrun Flag
 890:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC0 : Request MailBox0 Flag
 891:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC1 : Request MailBox1 Flag
 892:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_FLAG_REQC2 : Request MailBox2 Flag
 893:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 894:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
 895:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 896:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 897:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 898:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_ClearStatusFlag(CAN_T* can, CAN_FLAG_T flag)
 899:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 1964              		.loc 1 899 1 is_stmt 1 view -0
 1965              		.cfi_startproc
 1966              		@ args = 0, pretend = 0, frame = 0
 1967              		@ frame_needed = 0, uses_anonymous_args = 0
 1968              		@ link register save eliminated.
 900:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint32_t flagtmp = 0;
 1969              		.loc 1 900 5 view .LVU624
 901:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 902:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     /** ERRSTS register */
 903:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if(flag == 0x30F00070)
 1970              		.loc 1 903 5 view .LVU625
 1971              		.loc 1 903 7 is_stmt 0 view .LVU626
 1972 0000 0C4B     		ldr	r3, .L150
 1973 0002 9942     		cmp	r1, r3
 1974 0004 06D0     		beq	.L149
 904:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 905:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->ERRSTS = RESET;
 906:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 907:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
 908:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 909:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         flagtmp = flag & 0x000FFFFF;
 1975              		.loc 1 909 9 is_stmt 1 view .LVU627
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 54


 1976              		.loc 1 909 17 is_stmt 0 view .LVU628
 1977 0006 C1F31303 		ubfx	r3, r1, #0, #20
 1978              	.LVL143:
 910:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         if((flag & 0x02000000) != RESET)
 1979              		.loc 1 910 9 is_stmt 1 view .LVU629
 1980              		.loc 1 910 11 is_stmt 0 view .LVU630
 1981 000a 11F0007F 		tst	r1, #33554432
 1982 000e 04D0     		beq	.L146
 911:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 912:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->RXF0 = flagtmp;
 1983              		.loc 1 912 13 is_stmt 1 view .LVU631
 1984              		.loc 1 912 23 is_stmt 0 view .LVU632
 1985 0010 C360     		str	r3, [r0, #12]
 1986 0012 7047     		bx	lr
 1987              	.LVL144:
 1988              	.L149:
 905:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1989              		.loc 1 905 9 is_stmt 1 view .LVU633
 905:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 1990              		.loc 1 905 21 is_stmt 0 view .LVU634
 1991 0014 0023     		movs	r3, #0
 1992 0016 8361     		str	r3, [r0, #24]
 1993 0018 7047     		bx	lr
 1994              	.LVL145:
 1995              	.L146:
 913:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 914:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else if((flag & 0x04000000) != RESET)
 1996              		.loc 1 914 14 is_stmt 1 view .LVU635
 1997              		.loc 1 914 16 is_stmt 0 view .LVU636
 1998 001a 11F0806F 		tst	r1, #67108864
 1999 001e 01D0     		beq	.L147
 915:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 916:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->RXF1 = flagtmp;
 2000              		.loc 1 916 13 is_stmt 1 view .LVU637
 2001              		.loc 1 916 23 is_stmt 0 view .LVU638
 2002 0020 0361     		str	r3, [r0, #16]
 2003 0022 7047     		bx	lr
 2004              	.L147:
 917:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 918:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else if((flag & 0x08000000) != RESET)
 2005              		.loc 1 918 14 is_stmt 1 view .LVU639
 2006              		.loc 1 918 16 is_stmt 0 view .LVU640
 2007 0024 11F0006F 		tst	r1, #134217728
 2008 0028 01D0     		beq	.L148
 919:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 920:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->TXSTS = flagtmp;
 2009              		.loc 1 920 13 is_stmt 1 view .LVU641
 2010              		.loc 1 920 24 is_stmt 0 view .LVU642
 2011 002a 8360     		str	r3, [r0, #8]
 2012 002c 7047     		bx	lr
 2013              	.L148:
 921:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 922:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         else
 923:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 924:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             can->MSTS = flagtmp;
 2014              		.loc 1 924 13 is_stmt 1 view .LVU643
 2015              		.loc 1 924 23 is_stmt 0 view .LVU644
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 55


 2016 002e 4360     		str	r3, [r0, #4]
 925:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
 926:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
 927:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 2017              		.loc 1 927 1 view .LVU645
 2018 0030 7047     		bx	lr
 2019              	.L151:
 2020 0032 00BF     		.align	2
 2021              	.L150:
 2022 0034 7000F030 		.word	821035120
 2023              		.cfi_endproc
 2024              	.LFE87:
 2026              		.section	.text.CAN_ReadIntFlag,"ax",%progbits
 2027              		.align	1
 2028              		.global	CAN_ReadIntFlag
 2029              		.syntax unified
 2030              		.thumb
 2031              		.thumb_func
 2033              	CAN_ReadIntFlag:
 2034              	.LVL146:
 2035              	.LFB88:
 928:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 929:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
 930:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Read whether the specified can interrupt has occurred or not.
 931:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 932:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
 933:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 934:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     flag: specifies the CAN interrupt sources
 935:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  This parameter can be one of the following values:
 936:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_TXME   : Transmit mailbox empty Interrupt
 937:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F0MP   : FIFO 0 message pending Interrupt
 938:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F0FULL : FIFO 0 full Interrupt
 939:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F0OVR  : FIFO 0 overrun Interrupt
 940:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F1MP   : FIFO 1 message pending Interrupt
 941:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F1FULL : FIFO 1 full Interrupt
 942:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F1OVR  : FIFO 1 overrun Interrupt
 943:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERRW   : Error warning Interrupt
 944:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERRP   : Error passive Interrupt
 945:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_BOF    : Bus-off Interrupt
 946:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_LEC    : Last error record code Interrupt
 947:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERR    : Error Interrupt
 948:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_WUP    : Wake-up Interrupt
 949:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_SLEEP  : Sleep acknowledge Interrupt
 950:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 951:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    status : SET or RESET
 952:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
 953:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
 954:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
 955:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** uint8_t CAN_ReadIntFlag(CAN_T* can, CAN_INT_T flag)
 956:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 2036              		.loc 1 956 1 is_stmt 1 view -0
 2037              		.cfi_startproc
 2038              		@ args = 0, pretend = 0, frame = 0
 2039              		@ frame_needed = 0, uses_anonymous_args = 0
 2040              		@ link register save eliminated.
 957:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     uint8_t status = 0;
 2041              		.loc 1 957 5 view .LVU647
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 56


 958:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
 959:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     if((can->INTEN & flag) != RESET)
 2042              		.loc 1 959 5 view .LVU648
 2043              		.loc 1 959 12 is_stmt 0 view .LVU649
 2044 0000 4369     		ldr	r3, [r0, #20]
 2045              		.loc 1 959 7 view .LVU650
 2046 0002 0B42     		tst	r3, r1
 2047 0004 77D0     		beq	.L172
 960:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         switch (flag)
 2048              		.loc 1 961 9 is_stmt 1 view .LVU651
 2049 0006 B1F5807F 		cmp	r1, #256
 2050 000a 68D0     		beq	.L154
 2051 000c 20D8     		bhi	.L155
 2052 000e 2029     		cmp	r1, #32
 2053 0010 16D8     		bhi	.L156
 2054 0012 0029     		cmp	r1, #0
 2055 0014 71D0     		beq	.L173
 2056 0016 0139     		subs	r1, r1, #1
 2057              	.LVL147:
 2058              		.loc 1 961 9 is_stmt 0 view .LVU652
 2059 0018 1F29     		cmp	r1, #31
 2060 001a 70D8     		bhi	.L174
 2061 001c DFE801F0 		tbb	[pc, r1]
 2062              	.L158:
 2063 0020 3B       		.byte	(.L163-.L158)/2
 2064 0021 47       		.byte	(.L162-.L158)/2
 2065 0022 6F       		.byte	(.L174-.L158)/2
 2066 0023 4B       		.byte	(.L161-.L158)/2
 2067 0024 6F       		.byte	(.L174-.L158)/2
 2068 0025 6F       		.byte	(.L174-.L158)/2
 2069 0026 6F       		.byte	(.L174-.L158)/2
 2070 0027 4F       		.byte	(.L160-.L158)/2
 2071 0028 6F       		.byte	(.L174-.L158)/2
 2072 0029 6F       		.byte	(.L174-.L158)/2
 2073 002a 6F       		.byte	(.L174-.L158)/2
 2074 002b 6F       		.byte	(.L174-.L158)/2
 2075 002c 6F       		.byte	(.L174-.L158)/2
 2076 002d 6F       		.byte	(.L174-.L158)/2
 2077 002e 6F       		.byte	(.L174-.L158)/2
 2078 002f 53       		.byte	(.L159-.L158)/2
 2079 0030 6F       		.byte	(.L174-.L158)/2
 2080 0031 6F       		.byte	(.L174-.L158)/2
 2081 0032 6F       		.byte	(.L174-.L158)/2
 2082 0033 6F       		.byte	(.L174-.L158)/2
 2083 0034 6F       		.byte	(.L174-.L158)/2
 2084 0035 6F       		.byte	(.L174-.L158)/2
 2085 0036 6F       		.byte	(.L174-.L158)/2
 2086 0037 6F       		.byte	(.L174-.L158)/2
 2087 0038 6F       		.byte	(.L174-.L158)/2
 2088 0039 6F       		.byte	(.L174-.L158)/2
 2089 003a 6F       		.byte	(.L174-.L158)/2
 2090 003b 6F       		.byte	(.L174-.L158)/2
 2091 003c 6F       		.byte	(.L174-.L158)/2
 2092 003d 6F       		.byte	(.L174-.L158)/2
 2093 003e 6F       		.byte	(.L174-.L158)/2
 2094 003f 57       		.byte	(.L157-.L158)/2
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 57


 2095              	.LVL148:
 2096              		.p2align 1
 2097              	.L156:
 2098              		.loc 1 961 9 view .LVU653
 2099 0040 4029     		cmp	r1, #64
 2100 0042 03D1     		bne	.L175
 962:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 963:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_TXME:
 964:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->TXSTS_B.REQCFLG0;
 965:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG1;
 966:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG2;
 967:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 968:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0MP:
 969:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF0_B.FMNUM0;
 970:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 971:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0FULL:
 972:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF0_B.FFULLFLG0;
 973:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 974:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0OVR:
 975:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF0_B.FOVRFLG0;
 976:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 977:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1MP:
 978:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF1_B.FMNUM1;
 979:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 980:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1FULL:
 981:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF1_B.FFULLFLG1;
 982:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 983:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1OVR:
 984:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->RXF1_B.FOVRFLG1;
 2101              		.loc 1 984 13 is_stmt 1 view .LVU654
 2102              		.loc 1 984 33 is_stmt 0 view .LVU655
 2103 0044 0069     		ldr	r0, [r0, #16]
 2104              	.LVL149:
 2105              		.loc 1 984 33 view .LVU656
 2106 0046 C0F30010 		ubfx	r0, r0, #4, #1
 2107              	.LVL150:
 985:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2108              		.loc 1 985 13 is_stmt 1 view .LVU657
 2109 004a 7047     		bx	lr
 2110              	.LVL151:
 2111              	.L175:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2112              		.loc 1 961 9 is_stmt 0 view .LVU658
 2113 004c 0020     		movs	r0, #0
 2114              	.LVL152:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2115              		.loc 1 961 9 view .LVU659
 2116 004e 7047     		bx	lr
 2117              	.LVL153:
 2118              	.L155:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2119              		.loc 1 961 9 view .LVU660
 2120 0050 B1F5004F 		cmp	r1, #32768
 2121 0054 4BD0     		beq	.L165
 2122 0056 09D9     		bls	.L176
 2123 0058 B1F5803F 		cmp	r1, #65536
 2124 005c 3BD0     		beq	.L170
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 58


 2125 005e B1F5003F 		cmp	r1, #131072
 2126 0062 16D1     		bne	.L177
 986:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_WUP:
 987:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->MSTS_B.WUPIFLG;
 988:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 989:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_SLEEP:
 990:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->MSTS_B.SLEEPIFLG;
 2127              		.loc 1 990 13 is_stmt 1 view .LVU661
 2128              		.loc 1 990 33 is_stmt 0 view .LVU662
 2129 0064 4068     		ldr	r0, [r0, #4]
 2130              	.LVL154:
 2131              		.loc 1 990 33 view .LVU663
 2132 0066 C0F30010 		ubfx	r0, r0, #4, #1
 2133              	.LVL155:
 991:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2134              		.loc 1 991 13 is_stmt 1 view .LVU664
 2135 006a 7047     		bx	lr
 2136              	.LVL156:
 2137              	.L176:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2138              		.loc 1 961 9 is_stmt 0 view .LVU665
 2139 006c B1F5806F 		cmp	r1, #1024
 2140 0070 39D0     		beq	.L167
 2141 0072 B1F5006F 		cmp	r1, #2048
 2142 0076 03D1     		bne	.L178
 992:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_ERRW:
 993:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->ERRSTS_B.ERRWFLG;
 994:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 995:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_ERRP:
 996:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->ERRSTS_B.ERRPFLG;
 997:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 998:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_BOF:
 999:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->ERRSTS_B.BOFLG;
1000:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
1001:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_LEC:
1002:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->ERRSTS_B.LERRC;
 2143              		.loc 1 1002 13 is_stmt 1 view .LVU666
 2144              		.loc 1 1002 35 is_stmt 0 view .LVU667
 2145 0078 8069     		ldr	r0, [r0, #24]
 2146              	.LVL157:
 2147              		.loc 1 1002 35 view .LVU668
 2148 007a C0F30210 		ubfx	r0, r0, #4, #3
 2149              	.LVL158:
1003:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2150              		.loc 1 1003 13 is_stmt 1 view .LVU669
 2151 007e 7047     		bx	lr
 2152              	.LVL159:
 2153              	.L178:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2154              		.loc 1 961 9 is_stmt 0 view .LVU670
 2155 0080 B1F5007F 		cmp	r1, #512
 2156 0084 03D1     		bne	.L179
 996:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2157              		.loc 1 996 13 is_stmt 1 view .LVU671
 996:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2158              		.loc 1 996 35 is_stmt 0 view .LVU672
 2159 0086 8069     		ldr	r0, [r0, #24]
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 59


 2160              	.LVL160:
 996:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2161              		.loc 1 996 35 view .LVU673
 2162 0088 C0F34000 		ubfx	r0, r0, #1, #1
 2163              	.LVL161:
 997:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_BOF:
 2164              		.loc 1 997 13 is_stmt 1 view .LVU674
 2165 008c 7047     		bx	lr
 2166              	.LVL162:
 2167              	.L179:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2168              		.loc 1 961 9 is_stmt 0 view .LVU675
 2169 008e 0020     		movs	r0, #0
 2170              	.LVL163:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2171              		.loc 1 961 9 view .LVU676
 2172 0090 7047     		bx	lr
 2173              	.LVL164:
 2174              	.L177:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2175              		.loc 1 961 9 view .LVU677
 2176 0092 0020     		movs	r0, #0
 2177              	.LVL165:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2178              		.loc 1 961 9 view .LVU678
 2179 0094 7047     		bx	lr
 2180              	.LVL166:
 2181              	.L163:
 964:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG1;
 2182              		.loc 1 964 13 is_stmt 1 view .LVU679
 964:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG1;
 2183              		.loc 1 964 34 is_stmt 0 view .LVU680
 2184 0096 8368     		ldr	r3, [r0, #8]
 2185 0098 03F00103 		and	r3, r3, #1
 2186              	.LVL167:
 965:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG2;
 2187              		.loc 1 965 13 is_stmt 1 view .LVU681
 965:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status |= can->TXSTS_B.REQCFLG2;
 2188              		.loc 1 965 35 is_stmt 0 view .LVU682
 2189 009c 8268     		ldr	r2, [r0, #8]
 2190 009e C2F30022 		ubfx	r2, r2, #8, #1
 966:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2191              		.loc 1 966 13 is_stmt 1 view .LVU683
 966:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2192              		.loc 1 966 35 is_stmt 0 view .LVU684
 2193 00a2 8068     		ldr	r0, [r0, #8]
 2194              	.LVL168:
 966:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2195              		.loc 1 966 35 view .LVU685
 2196 00a4 C0F30040 		ubfx	r0, r0, #16, #1
 966:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2197              		.loc 1 966 20 view .LVU686
 2198 00a8 1343     		orrs	r3, r3, r2
 2199 00aa 1843     		orrs	r0, r0, r3
 2200              	.LVL169:
 967:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0MP:
 2201              		.loc 1 967 13 is_stmt 1 view .LVU687
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 60


 2202 00ac 7047     		bx	lr
 2203              	.LVL170:
 2204              	.L162:
 969:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2205              		.loc 1 969 13 view .LVU688
 969:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2206              		.loc 1 969 33 is_stmt 0 view .LVU689
 2207 00ae C068     		ldr	r0, [r0, #12]
 2208              	.LVL171:
 969:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2209              		.loc 1 969 33 view .LVU690
 2210 00b0 00F00300 		and	r0, r0, #3
 2211              	.LVL172:
 970:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0FULL:
 2212              		.loc 1 970 13 is_stmt 1 view .LVU691
 2213 00b4 7047     		bx	lr
 2214              	.LVL173:
 2215              	.L161:
 972:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2216              		.loc 1 972 13 view .LVU692
 972:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2217              		.loc 1 972 33 is_stmt 0 view .LVU693
 2218 00b6 C068     		ldr	r0, [r0, #12]
 2219              	.LVL174:
 972:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2220              		.loc 1 972 33 view .LVU694
 2221 00b8 C0F3C000 		ubfx	r0, r0, #3, #1
 2222              	.LVL175:
 973:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F0OVR:
 2223              		.loc 1 973 13 is_stmt 1 view .LVU695
 2224 00bc 7047     		bx	lr
 2225              	.LVL176:
 2226              	.L160:
 975:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2227              		.loc 1 975 13 view .LVU696
 975:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2228              		.loc 1 975 33 is_stmt 0 view .LVU697
 2229 00be C068     		ldr	r0, [r0, #12]
 2230              	.LVL177:
 975:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2231              		.loc 1 975 33 view .LVU698
 2232 00c0 C0F30010 		ubfx	r0, r0, #4, #1
 2233              	.LVL178:
 976:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1MP:
 2234              		.loc 1 976 13 is_stmt 1 view .LVU699
 2235 00c4 7047     		bx	lr
 2236              	.LVL179:
 2237              	.L159:
 978:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2238              		.loc 1 978 13 view .LVU700
 978:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2239              		.loc 1 978 33 is_stmt 0 view .LVU701
 2240 00c6 0069     		ldr	r0, [r0, #16]
 2241              	.LVL180:
 978:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2242              		.loc 1 978 33 view .LVU702
 2243 00c8 00F00300 		and	r0, r0, #3
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 61


 2244              	.LVL181:
 979:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1FULL:
 2245              		.loc 1 979 13 is_stmt 1 view .LVU703
 2246 00cc 7047     		bx	lr
 2247              	.LVL182:
 2248              	.L157:
 981:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2249              		.loc 1 981 13 view .LVU704
 981:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2250              		.loc 1 981 33 is_stmt 0 view .LVU705
 2251 00ce 0069     		ldr	r0, [r0, #16]
 2252              	.LVL183:
 981:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2253              		.loc 1 981 33 view .LVU706
 2254 00d0 C0F3C000 		ubfx	r0, r0, #3, #1
 2255              	.LVL184:
 982:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_F1OVR:
 2256              		.loc 1 982 13 is_stmt 1 view .LVU707
 2257 00d4 7047     		bx	lr
 2258              	.LVL185:
 2259              	.L170:
 987:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2260              		.loc 1 987 13 view .LVU708
 987:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2261              		.loc 1 987 33 is_stmt 0 view .LVU709
 2262 00d6 4068     		ldr	r0, [r0, #4]
 2263              	.LVL186:
 987:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2264              		.loc 1 987 33 view .LVU710
 2265 00d8 C0F3C000 		ubfx	r0, r0, #3, #1
 2266              	.LVL187:
 988:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_SLEEP:
 2267              		.loc 1 988 13 is_stmt 1 view .LVU711
 2268 00dc 7047     		bx	lr
 2269              	.LVL188:
 2270              	.L154:
 993:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2271              		.loc 1 993 13 view .LVU712
 993:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2272              		.loc 1 993 35 is_stmt 0 view .LVU713
 2273 00de 8069     		ldr	r0, [r0, #24]
 2274              	.LVL189:
 993:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2275              		.loc 1 993 35 view .LVU714
 2276 00e0 00F00100 		and	r0, r0, #1
 2277              	.LVL190:
 994:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_ERRP:
 2278              		.loc 1 994 13 is_stmt 1 view .LVU715
 2279 00e4 7047     		bx	lr
 2280              	.LVL191:
 2281              	.L167:
 999:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2282              		.loc 1 999 13 view .LVU716
 999:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2283              		.loc 1 999 35 is_stmt 0 view .LVU717
 2284 00e6 8069     		ldr	r0, [r0, #24]
 2285              	.LVL192:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 62


 999:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2286              		.loc 1 999 35 view .LVU718
 2287 00e8 C0F38000 		ubfx	r0, r0, #2, #1
 2288              	.LVL193:
1000:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_LEC:
 2289              		.loc 1 1000 13 is_stmt 1 view .LVU719
 2290 00ec 7047     		bx	lr
 2291              	.LVL194:
 2292              	.L165:
1004:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         case CAN_INT_ERR:
1005:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = can->MSTS_B.ERRIFLG;
 2293              		.loc 1 1005 13 view .LVU720
 2294              		.loc 1 1005 33 is_stmt 0 view .LVU721
 2295 00ee 4068     		ldr	r0, [r0, #4]
 2296              	.LVL195:
 2297              		.loc 1 1005 33 view .LVU722
 2298 00f0 C0F38000 		ubfx	r0, r0, #2, #1
 2299              	.LVL196:
1006:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
 2300              		.loc 1 1006 13 is_stmt 1 view .LVU723
 2301 00f4 7047     		bx	lr
 2302              	.LVL197:
 2303              	.L172:
1007:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         default:
1008:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             status = RESET;
1009:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****             break;
1010:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         }
1011:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
1012:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     else
1013:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
1014:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         status = RESET;
 2304              		.loc 1 1014 16 is_stmt 0 view .LVU724
 2305 00f6 0020     		movs	r0, #0
 2306              	.LVL198:
 2307              		.loc 1 1014 16 view .LVU725
 2308 00f8 7047     		bx	lr
 2309              	.LVL199:
 2310              	.L173:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2311              		.loc 1 961 9 view .LVU726
 2312 00fa 0020     		movs	r0, #0
 2313              	.LVL200:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2314              		.loc 1 961 9 view .LVU727
 2315 00fc 7047     		bx	lr
 2316              	.LVL201:
 2317              	.L174:
 961:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         {
 2318              		.loc 1 961 9 view .LVU728
 2319 00fe 0020     		movs	r0, #0
 2320              	.LVL202:
1015:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
1016:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     return status;
 2321              		.loc 1 1016 5 is_stmt 1 view .LVU729
1017:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 2322              		.loc 1 1017 1 is_stmt 0 view .LVU730
 2323 0100 7047     		bx	lr
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 63


 2324              		.cfi_endproc
 2325              	.LFE88:
 2327              		.section	.text.CAN_ClearIntFlag,"ax",%progbits
 2328              		.align	1
 2329              		.global	CAN_ClearIntFlag
 2330              		.syntax unified
 2331              		.thumb
 2332              		.thumb_func
 2334              	CAN_ClearIntFlag:
 2335              	.LVL203:
 2336              	.LFB89:
1018:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** 
1019:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** /*!
1020:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @brief     Clears the can's interrupt flag.
1021:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
1022:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     can: Select the CAN peripheral.
1023:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
1024:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @param     flag: Interrupt pending bit to clear
1025:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  This parameter can be one of the following values:
1026:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_TXME   : Transmit mailbox empty Interrupt
1027:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F0FULL : FIFO 0 full Interrupt
1028:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F0OVR  : FIFO 0 overrun Interrupt
1029:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F1FULL : FIFO 1 full Interrupt
1030:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_F1OVR  : FIFO 1 overrun Interrupt
1031:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERRW   : Error warning Interrupt
1032:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERRP   : Error passive Interrupt
1033:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_BOF    : Bus-off Interrupt
1034:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_LEC    : Last error record code Interrupt
1035:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_ERR    : Error Interrupt
1036:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_WUP    : Wake-up Interrupt
1037:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *                  @arg CAN_INT_SLEEP  : Sleep acknowledge Interrupt
1038:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
1039:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @retval    None
1040:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  *
1041:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  * @note      CAN2 applies only to APM32F103xC device.
1042:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****  */
1043:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** void CAN_ClearIntFlag(CAN_T* can, CAN_INT_T flag)
1044:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** {
 2337              		.loc 1 1044 1 is_stmt 1 view -0
 2338              		.cfi_startproc
 2339              		@ args = 0, pretend = 0, frame = 0
 2340              		@ frame_needed = 0, uses_anonymous_args = 0
 2341              		@ link register save eliminated.
1045:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     switch (flag)
 2342              		.loc 1 1045 5 view .LVU732
 2343 0000 B1F5007F 		cmp	r1, #512
 2344 0004 6AD0     		beq	.L181
 2345 0006 23D8     		bhi	.L182
 2346 0008 2029     		cmp	r1, #32
 2347 000a 16D8     		bhi	.L183
 2348 000c 0029     		cmp	r1, #0
 2349 000e 77D0     		beq	.L180
 2350 0010 0139     		subs	r1, r1, #1
 2351              	.LVL204:
 2352              		.loc 1 1045 5 is_stmt 0 view .LVU733
 2353 0012 1F29     		cmp	r1, #31
 2354 0014 74D8     		bhi	.L180
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 64


 2355 0016 DFE801F0 		tbb	[pc, r1]
 2356              	.L186:
 2357 001a 3B       		.byte	(.L189-.L186)/2
 2358 001b 73       		.byte	(.L180-.L186)/2
 2359 001c 73       		.byte	(.L180-.L186)/2
 2360 001d 48       		.byte	(.L188-.L186)/2
 2361 001e 73       		.byte	(.L180-.L186)/2
 2362 001f 73       		.byte	(.L180-.L186)/2
 2363 0020 73       		.byte	(.L180-.L186)/2
 2364 0021 4D       		.byte	(.L187-.L186)/2
 2365 0022 73       		.byte	(.L180-.L186)/2
 2366 0023 73       		.byte	(.L180-.L186)/2
 2367 0024 73       		.byte	(.L180-.L186)/2
 2368 0025 73       		.byte	(.L180-.L186)/2
 2369 0026 73       		.byte	(.L180-.L186)/2
 2370 0027 73       		.byte	(.L180-.L186)/2
 2371 0028 73       		.byte	(.L180-.L186)/2
 2372 0029 73       		.byte	(.L180-.L186)/2
 2373 002a 73       		.byte	(.L180-.L186)/2
 2374 002b 73       		.byte	(.L180-.L186)/2
 2375 002c 73       		.byte	(.L180-.L186)/2
 2376 002d 73       		.byte	(.L180-.L186)/2
 2377 002e 73       		.byte	(.L180-.L186)/2
 2378 002f 73       		.byte	(.L180-.L186)/2
 2379 0030 73       		.byte	(.L180-.L186)/2
 2380 0031 73       		.byte	(.L180-.L186)/2
 2381 0032 73       		.byte	(.L180-.L186)/2
 2382 0033 73       		.byte	(.L180-.L186)/2
 2383 0034 73       		.byte	(.L180-.L186)/2
 2384 0035 73       		.byte	(.L180-.L186)/2
 2385 0036 73       		.byte	(.L180-.L186)/2
 2386 0037 73       		.byte	(.L180-.L186)/2
 2387 0038 73       		.byte	(.L180-.L186)/2
 2388 0039 52       		.byte	(.L185-.L186)/2
 2389              	.LVL205:
 2390              		.p2align 1
 2391              	.L183:
 2392              		.loc 1 1045 5 view .LVU734
 2393 003a 4029     		cmp	r1, #64
 2394 003c 44D0     		beq	.L190
 2395 003e B1F5807F 		cmp	r1, #256
 2396 0042 04D1     		bne	.L198
1046:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
1047:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_TXME:
1048:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG0 = BIT_SET;
1049:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG1 = BIT_SET;
1050:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG2 = BIT_SET;
1051:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1052:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F0FULL:
1053:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF0_B.FFULLFLG0 = BIT_SET;
1054:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1055:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F0OVR:
1056:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF0_B.FOVRFLG0  = BIT_SET;
1057:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1058:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F1FULL:
1059:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF1_B.FFULLFLG1 = BIT_SET;
1060:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 65


1061:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F1OVR:
1062:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->RXF1_B.FOVRFLG1  = BIT_SET;
1063:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1064:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_WUP:
1065:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.WUPIFLG   = BIT_SET;
1066:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1067:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_SLEEP:
1068:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.SLEEPIFLG = BIT_SET;
1069:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1070:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_ERRW:
1071:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.ERRIFLG = BIT_SET;
 2397              		.loc 1 1071 9 is_stmt 1 view .LVU735
 2398              		.loc 1 1071 29 is_stmt 0 view .LVU736
 2399 0044 4368     		ldr	r3, [r0, #4]
 2400 0046 43F00403 		orr	r3, r3, #4
 2401 004a 4360     		str	r3, [r0, #4]
1072:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2402              		.loc 1 1072 9 is_stmt 1 view .LVU737
 2403 004c 7047     		bx	lr
 2404              	.L198:
 2405              		.loc 1 1072 9 is_stmt 0 view .LVU738
 2406 004e 7047     		bx	lr
 2407              	.L182:
1045:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     switch (flag)
 2408              		.loc 1 1045 5 view .LVU739
 2409 0050 B1F5004F 		cmp	r1, #32768
 2410 0054 4CD0     		beq	.L192
 2411 0056 0AD9     		bls	.L199
 2412 0058 B1F5803F 		cmp	r1, #65536
 2413 005c 39D0     		beq	.L196
 2414 005e B1F5003F 		cmp	r1, #131072
 2415 0062 14D1     		bne	.L200
1068:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2416              		.loc 1 1068 9 is_stmt 1 view .LVU740
1068:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2417              		.loc 1 1068 31 is_stmt 0 view .LVU741
 2418 0064 4368     		ldr	r3, [r0, #4]
 2419 0066 43F01003 		orr	r3, r3, #16
 2420 006a 4360     		str	r3, [r0, #4]
1069:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_ERRW:
 2421              		.loc 1 1069 9 is_stmt 1 view .LVU742
 2422 006c 7047     		bx	lr
 2423              	.L199:
1045:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     {
 2424              		.loc 1 1045 5 is_stmt 0 view .LVU743
 2425 006e B1F5806F 		cmp	r1, #1024
 2426 0072 38D0     		beq	.L194
 2427 0074 B1F5006F 		cmp	r1, #2048
 2428 0078 08D1     		bne	.L201
1073:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_ERRP:
1074:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.ERRIFLG = BIT_SET;
1075:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1076:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_BOF:
1077:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.ERRIFLG = BIT_SET;
1078:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1079:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_LEC:
1080:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->ERRSTS_B.LERRC = BIT_RESET;
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 66


 2429              		.loc 1 1080 9 is_stmt 1 view .LVU744
 2430              		.loc 1 1080 29 is_stmt 0 view .LVU745
 2431 007a 8369     		ldr	r3, [r0, #24]
 2432 007c 6FF30613 		bfc	r3, #4, #3
 2433 0080 8361     		str	r3, [r0, #24]
1081:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.ERRIFLG = BIT_SET;
 2434              		.loc 1 1081 9 is_stmt 1 view .LVU746
 2435              		.loc 1 1081 29 is_stmt 0 view .LVU747
 2436 0082 4368     		ldr	r3, [r0, #4]
 2437 0084 43F00403 		orr	r3, r3, #4
 2438 0088 4360     		str	r3, [r0, #4]
1082:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2439              		.loc 1 1082 9 is_stmt 1 view .LVU748
 2440 008a 7047     		bx	lr
 2441              	.L201:
 2442              		.loc 1 1082 9 is_stmt 0 view .LVU749
 2443 008c 7047     		bx	lr
 2444              	.L200:
 2445              		.loc 1 1082 9 view .LVU750
 2446 008e 7047     		bx	lr
 2447              	.LVL206:
 2448              	.L189:
1048:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG1 = BIT_SET;
 2449              		.loc 1 1048 9 is_stmt 1 view .LVU751
1048:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG1 = BIT_SET;
 2450              		.loc 1 1048 31 is_stmt 0 view .LVU752
 2451 0090 8368     		ldr	r3, [r0, #8]
 2452 0092 43F00103 		orr	r3, r3, #1
 2453 0096 8360     		str	r3, [r0, #8]
1049:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG2 = BIT_SET;
 2454              		.loc 1 1049 9 is_stmt 1 view .LVU753
1049:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->TXSTS_B.REQCFLG2 = BIT_SET;
 2455              		.loc 1 1049 31 is_stmt 0 view .LVU754
 2456 0098 8368     		ldr	r3, [r0, #8]
 2457 009a 43F48073 		orr	r3, r3, #256
 2458 009e 8360     		str	r3, [r0, #8]
1050:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2459              		.loc 1 1050 9 is_stmt 1 view .LVU755
1050:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2460              		.loc 1 1050 31 is_stmt 0 view .LVU756
 2461 00a0 8368     		ldr	r3, [r0, #8]
 2462 00a2 43F48033 		orr	r3, r3, #65536
 2463 00a6 8360     		str	r3, [r0, #8]
1051:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F0FULL:
 2464              		.loc 1 1051 9 is_stmt 1 view .LVU757
 2465 00a8 7047     		bx	lr
 2466              	.L188:
1053:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2467              		.loc 1 1053 9 view .LVU758
1053:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2468              		.loc 1 1053 31 is_stmt 0 view .LVU759
 2469 00aa C368     		ldr	r3, [r0, #12]
 2470 00ac 43F00803 		orr	r3, r3, #8
 2471 00b0 C360     		str	r3, [r0, #12]
1054:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F0OVR:
 2472              		.loc 1 1054 9 is_stmt 1 view .LVU760
 2473 00b2 7047     		bx	lr
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 67


 2474              	.L187:
1056:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2475              		.loc 1 1056 9 view .LVU761
1056:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2476              		.loc 1 1056 31 is_stmt 0 view .LVU762
 2477 00b4 C368     		ldr	r3, [r0, #12]
 2478 00b6 43F01003 		orr	r3, r3, #16
 2479 00ba C360     		str	r3, [r0, #12]
1057:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F1FULL:
 2480              		.loc 1 1057 9 is_stmt 1 view .LVU763
 2481 00bc 7047     		bx	lr
 2482              	.L185:
1059:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2483              		.loc 1 1059 9 view .LVU764
1059:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2484              		.loc 1 1059 31 is_stmt 0 view .LVU765
 2485 00be 0369     		ldr	r3, [r0, #16]
 2486 00c0 43F00803 		orr	r3, r3, #8
 2487 00c4 0361     		str	r3, [r0, #16]
1060:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_F1OVR:
 2488              		.loc 1 1060 9 is_stmt 1 view .LVU766
 2489 00c6 7047     		bx	lr
 2490              	.LVL207:
 2491              	.L190:
1062:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2492              		.loc 1 1062 9 view .LVU767
1062:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2493              		.loc 1 1062 31 is_stmt 0 view .LVU768
 2494 00c8 0369     		ldr	r3, [r0, #16]
 2495 00ca 43F01003 		orr	r3, r3, #16
 2496 00ce 0361     		str	r3, [r0, #16]
1063:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_WUP:
 2497              		.loc 1 1063 9 is_stmt 1 view .LVU769
 2498 00d0 7047     		bx	lr
 2499              	.L196:
1065:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2500              		.loc 1 1065 9 view .LVU770
1065:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2501              		.loc 1 1065 31 is_stmt 0 view .LVU771
 2502 00d2 4368     		ldr	r3, [r0, #4]
 2503 00d4 43F00803 		orr	r3, r3, #8
 2504 00d8 4360     		str	r3, [r0, #4]
1066:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_SLEEP:
 2505              		.loc 1 1066 9 is_stmt 1 view .LVU772
 2506 00da 7047     		bx	lr
 2507              	.L181:
1074:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2508              		.loc 1 1074 9 view .LVU773
1074:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2509              		.loc 1 1074 29 is_stmt 0 view .LVU774
 2510 00dc 4368     		ldr	r3, [r0, #4]
 2511 00de 43F00403 		orr	r3, r3, #4
 2512 00e2 4360     		str	r3, [r0, #4]
1075:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_BOF:
 2513              		.loc 1 1075 9 is_stmt 1 view .LVU775
 2514 00e4 7047     		bx	lr
 2515              	.L194:
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 68


1077:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2516              		.loc 1 1077 9 view .LVU776
1077:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2517              		.loc 1 1077 29 is_stmt 0 view .LVU777
 2518 00e6 4368     		ldr	r3, [r0, #4]
 2519 00e8 43F00403 		orr	r3, r3, #4
 2520 00ec 4360     		str	r3, [r0, #4]
1078:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_LEC:
 2521              		.loc 1 1078 9 is_stmt 1 view .LVU778
 2522 00ee 7047     		bx	lr
 2523              	.L192:
1083:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     case CAN_INT_ERR:
1084:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->ERRSTS_B.LERRC = BIT_RESET;
 2524              		.loc 1 1084 9 view .LVU779
 2525              		.loc 1 1084 29 is_stmt 0 view .LVU780
 2526 00f0 8369     		ldr	r3, [r0, #24]
 2527 00f2 6FF30613 		bfc	r3, #4, #3
 2528 00f6 8361     		str	r3, [r0, #24]
1085:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         can->MSTS_B.ERRIFLG = BIT_SET;
 2529              		.loc 1 1085 9 is_stmt 1 view .LVU781
 2530              		.loc 1 1085 29 is_stmt 0 view .LVU782
 2531 00f8 4368     		ldr	r3, [r0, #4]
 2532 00fa 43F00403 		orr	r3, r3, #4
 2533 00fe 4360     		str	r3, [r0, #4]
1086:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
 2534              		.loc 1 1086 9 is_stmt 1 view .LVU783
 2535              	.LVL208:
 2536              	.L180:
1087:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     default:
1088:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****         break;
1089:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c ****     }
1090:Library/APM32F10x_StdPeriphDriver/src/apm32f10x_can.c **** }
 2537              		.loc 1 1090 1 is_stmt 0 view .LVU784
 2538 0100 7047     		bx	lr
 2539              		.cfi_endproc
 2540              	.LFE89:
 2542              		.text
 2543              	.Letext0:
 2544              		.file 2 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2545              		.file 3 "d:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2546              		.file 4 "Library/Device/Geehy/APM32F10x/Include/apm32f10x.h"
 2547              		.file 5 "Library/APM32F10x_StdPeriphDriver/inc/apm32f10x_can.h"
 2548              		.file 6 "Library/APM32F10x_StdPeriphDriver/inc/apm32f10x_rcm.h"
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 69


DEFINED SYMBOLS
                            *ABS*:00000000 apm32f10x_can.c
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:18     .text.CAN_Reset:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:24     .text.CAN_Reset:00000000 CAN_Reset
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:82     .text.CAN_Reset:00000034 $d
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:88     .text.CAN_Config:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:94     .text.CAN_Config:00000000 CAN_Config
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:343    .text.CAN_ConfigFilter:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:349    .text.CAN_ConfigFilter:00000000 CAN_ConfigFilter
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:562    .text.CAN_ConfigStructInit:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:568    .text.CAN_ConfigStructInit:00000000 CAN_ConfigStructInit
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:616    .text.CAN_EnableDBGFreeze:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:622    .text.CAN_EnableDBGFreeze:00000000 CAN_EnableDBGFreeze
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:641    .text.CAN_DisableDBGFreeze:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:647    .text.CAN_DisableDBGFreeze:00000000 CAN_DisableDBGFreeze
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:666    .text.CAN_SlaveStartBank:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:672    .text.CAN_SlaveStartBank:00000000 CAN_SlaveStartBank
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:701    .text.CAN_TxMessage:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:707    .text.CAN_TxMessage:00000000 CAN_TxMessage
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:903    .text.CAN_TxMessageStatus:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:909    .text.CAN_TxMessageStatus:00000000 CAN_TxMessageStatus
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1053   .text.CAN_TxMessageStatus:00000088 $d
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1061   .text.CAN_CancelTxMailbox:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1067   .text.CAN_CancelTxMailbox:00000000 CAN_CancelTxMailbox
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1113   .text.CAN_RxMessage:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1119   .text.CAN_RxMessage:00000000 CAN_RxMessage
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1258   .text.CAN_ReleaseFIFO:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1264   .text.CAN_ReleaseFIFO:00000000 CAN_ReleaseFIFO
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1293   .text.CAN_PendingMessage:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1299   .text.CAN_PendingMessage:00000000 CAN_PendingMessage
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1331   .text.CAN_OperatingMode:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1337   .text.CAN_OperatingMode:00000000 CAN_OperatingMode
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1555   .text.CAN_SleepMode:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1561   .text.CAN_SleepMode:00000000 CAN_SleepMode
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1613   .text.CAN_WakeUpMode:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1619   .text.CAN_WakeUpMode:00000000 CAN_WakeUpMode
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1676   .text.CAN_ReadLastErrorCode:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1682   .text.CAN_ReadLastErrorCode:00000000 CAN_ReadLastErrorCode
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1701   .text.CAN_ReadRxErrorCounter:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1707   .text.CAN_ReadRxErrorCounter:00000000 CAN_ReadRxErrorCounter
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1726   .text.CAN_ReadLSBTxErrorCounter:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1732   .text.CAN_ReadLSBTxErrorCounter:00000000 CAN_ReadLSBTxErrorCounter
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1751   .text.CAN_EnableInterrupt:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1757   .text.CAN_EnableInterrupt:00000000 CAN_EnableInterrupt
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1776   .text.CAN_DisableInterrupt:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1782   .text.CAN_DisableInterrupt:00000000 CAN_DisableInterrupt
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1801   .text.CAN_ReadStatusFlag:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1807   .text.CAN_ReadStatusFlag:00000000 CAN_ReadStatusFlag
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1955   .text.CAN_ClearStatusFlag:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:1961   .text.CAN_ClearStatusFlag:00000000 CAN_ClearStatusFlag
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2022   .text.CAN_ClearStatusFlag:00000034 $d
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2027   .text.CAN_ReadIntFlag:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2033   .text.CAN_ReadIntFlag:00000000 CAN_ReadIntFlag
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2063   .text.CAN_ReadIntFlag:00000020 $d
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2096   .text.CAN_ReadIntFlag:00000040 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2328   .text.CAN_ClearIntFlag:00000000 $t
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2334   .text.CAN_ClearIntFlag:00000000 CAN_ClearIntFlag
ARM GAS  C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s 			page 70


C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2357   .text.CAN_ClearIntFlag:0000001a $d
C:\Users\geehy\AppData\Local\Temp\ccJYybXB.s:2390   .text.CAN_ClearIntFlag:0000003a $t

UNDEFINED SYMBOLS
RCM_EnableAPB1PeriphReset
RCM_DisableAPB1PeriphReset
